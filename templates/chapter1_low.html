<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentellect - Math Learning Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" async></script>
    <script>
         // Initialize MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <style>
        /* ===== Base Styles ===== */
        :root {
          --primary: #1e40af;
          --primary-light: #3b82f6;
          --primary-dark: #1e3a8a;
          --secondary: #f59e0b;
          --accent: #ec4899;
          --text: #1e293b;
          --text-light: #64748b;
          --text-lighter: #94a3b8;
          --bg: #f8fafc;
          --white: #ffffff;
          --gray: #e2e8f0;
          --gray-light: #f1f5f9;
          --success: #10b981;
          --card-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
          --hover-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
          background-color: var(--bg);
          color: var(--text);
          line-height: 1.6;
          overflow-x: hidden;
        }

        h1, h2, h3, h4 {
          font-weight: 700;
          line-height: 1.2;
        }

        a {
          text-decoration: none;
          color: inherit;
        }

        .container {
          width: 100%;
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 20px;
        }

        section {
          padding: 60px 0;
        }

        .section-title {
          text-align: center;
          margin-bottom: 40px;
        }

        .section-title h2 {
          font-size: 2.2rem;
          color: var(--primary);
          margin-bottom: 15px;
          position: relative;
          display: inline-block;
        }

        .section-title h2::after {
          content: '';
          position: absolute;
          bottom: -10px;
          left: 50%;
          transform: translateX(-50%);
          width: 80px;
          height: 4px;
          background: var(--secondary);
          border-radius: 2px;
        }

        .section-title p {
          color: var(--text-light);
          font-size: 1.1rem;
          max-width: 700px;
          margin: 0 auto;
        }

        .btn {
          display: inline-block;
          padding: 12px 28px;
          border-radius: 50px;
          font-weight: 600;
          transition: all 0.3s ease;
          text-align: center;
          cursor: pointer;
        }

        .btn-primary {
          background-color: var(--primary);
          color: var(--white);
          box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }

        .btn-primary:hover {
          background-color: var(--primary-dark);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
        }

        .btn-secondary {
          background-color: var(--white);
          color: var(--primary);
          border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
          background-color: var(--primary);
          color: var(--white);
          transform: translateY(-2px);
        }

        /* ===== Animations ===== */
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }

        .animate {
          animation: fadeIn 0.8s ease forwards;
        }

        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }
        .delay-3 { animation-delay: 0.6s; }

        /* ===== Header/Navbar ===== */
        header {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          z-index: 1000;
          background-color: var(--white);
          box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
          transition: all 0.3s ease;
        }

        header.scrolled {
          padding: 10px 0;
          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .navbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 0;
        }

        .logo {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .logo-icon {
          width: 36px;
          height: 36px;
          background: linear-gradient(135deg, var(--primary), var(--primary-light));
          color: var(--white);
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 18px;
          transition: all 0.3s ease;
          box-shadow: 0 4px 8px rgba(30, 64, 175, 0.2);
        }

        .logo-text {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--primary);
          transition: all 0.3s ease;
        }

        .nav-links {
          display: flex;
          list-style: none;
          gap: 30px;
        }

        .nav-links a {
          font-weight: 500;
          position: relative;
          padding: 5px 0;
          transition: color 0.3s ease;
        }

        .nav-links a::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 0;
          height: 3px;
          background: linear-gradient(to right, var(--primary), var(--secondary));
          transition: width 0.3s ease;
          border-radius: 2px;
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
          width: 100%;
        }

        .nav-links a.active {
          color: var(--primary);
          font-weight: 600;
        }

        .auth-buttons {
          display: flex;
          gap: 15px;
        }

        .login-btn {
          padding: 8px 20px;
          border-radius: 50px;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .login-btn:hover {
          color: var(--primary);
        }

        .signup-btn {
          padding: 8px 20px;
          border-radius: 50px;
          background: linear-gradient(to right, var(--primary), var(--primary-light));
          color: var(--white);
          font-weight: 500;
          transition: all 0.3s ease;
          box-shadow: 0 4px 10px rgba(30, 64, 175, 0.25);
        }

        .signup-btn:hover {
          background: linear-gradient(to right, var(--primary-dark), var(--primary));
          transform: translateY(-2px);
          box-shadow: 0 6px 15px rgba(30, 64, 175, 0.35);
        }

        .mobile-menu-btn {
          display: none;
          background: none;
          border: none;
          font-size: 1.5rem;
          color: var(--primary);
          cursor: pointer;
        }
        
        .continuous {
          color: #27ae60;
          font-weight: bold;
          background: #d5f4e6;
          padding: 2px 8px;
          border-radius: 4px;
        }

        .discontinuous {
          color: #e74c3c;
          font-weight: bold;
          background: #fadbd8;
          padding: 2px 8px;
          border-radius: 4px;
        }

        /* ===== Hero Section ===== */
        .hero {
          position: relative;
          padding: 160px 0 70px;
          background: linear-gradient(135deg, var(--primary), #004e92);
          color: var(--white);
          overflow: hidden;
          text-align: center;
        }

        .hero::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGgPSIxMDAlIiBoZWlnaHQ9IjEwMCUiLz48L3N2Zz4=');
        }

        .hero-content {
          position: relative;
          z-index: 1;
          max-width: 800px;
          margin: 0 auto;
        }

        .hero h1 {
          font-size: 2.8rem;
          margin-bottom: 20px;
          line-height: 1.2;
          text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .hero h1 span {
          color: var(--secondary);
          position: relative;
        }

        .hero h1 span::after {
          content: '';
          position: absolute;
          bottom: 5px;
          left: 0;
          width: 100%;
          height: 8px;
          background-color: rgba(255, 255, 255, 0.3);
          z-index: -1;
          border-radius: 4px;
        }

        .hero p {
          font-size: 1.2rem;
          margin-bottom: 40px;
          opacity: 0.9;
        }

        .hero-buttons {
          display: flex;
          justify-content: center;
          gap: 20px;
          margin-top: 30px;
        }

        .hero .btn-secondary {
          background-color: transparent;
          color: var(--white);
          border-color: var(--white);
        }

        .hero .btn-secondary:hover {
          background-color: var(--white);
          color: var(--primary);
        }

        .floating-shape {
          position: absolute;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.1);
          z-index: 0;
          animation: float 6s ease-in-out infinite;
        }

        .shape-1 {
          width: 150px;
          height: 150px;
          top: 10%;
          left: 10%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 100px;
          height: 100px;
          bottom: 15%;
          right: 10%;
          animation-delay: 0.5s;
        }

        .shape-3 {
          width: 80px;
          height: 80px;
          top: 30%;
          right: 20%;
          animation-delay: 1s;
        }
        
        /* ===== Card Styles ===== */
        .card {
          background-color: var(--white);
          border-radius: 16px;
          padding: 25px;
          margin: 20px 0;
          box-shadow: var(--card-shadow);
          transition: all 0.3s ease;
          position: relative;
          overflow: hidden;
        }
        
        .card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 5px;
          height: 100%;
          background: linear-gradient(to bottom, var(--primary), var(--secondary));
          transition: width 0.3s ease;
        }

        .card:hover {
          transform: translateY(-5px);
          box-shadow: var(--hover-shadow);
        }
        
        .card:hover::before {
          width: 8px;
        }

        h2 {
          color: var(--primary);
          font-size: 1.8rem;
          margin-bottom: 20px;
          font-weight: 600;
        }

        h3 {
          color: var(--primary);
          font-size: 1.4rem;
          margin: 20px 0 15px;
          font-weight: 600;
          position: relative;
          padding-left: 15px;
        }
        
        h3::before {
          content: '';
          position: absolute;
          left: 0;
          top: 50%;
          transform: translateY(-50%);
          width: 6px;
          height: 6px;
          background: var(--secondary);
          border-radius: 50%;
        }

        p {
          color: var(--text-light);
          margin-bottom: 15px;
          line-height: 1.7;
        }

        /* ===== Focus Enhancement Exercises ===== */
        .focus-exercise {
          background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
          padding: 20px;
          border-radius: 10px;
          margin: 30px 0;
          border: 1px solid #e1bee7;
        }

        .focus-exercise h4 {
          color: #7b1fa2;
          margin-top: 0;
          text-align: center;
        }

        .breathing-container {
          margin: 20px 0;
          text-align: center;
        }

        .breath-circle {
          width: 120px;
          height: 120px;
          border-radius: 50%;
          background: linear-gradient(135deg, #4CAF50, #81C784);
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto;
          color: white;
          font-weight: bold;
          transition: all 4s ease;
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .breath-instructions {
          margin-top: 15px;
          font-style: italic;
          color: #666;
        }

        .exercise-action {
          background: linear-gradient(135deg, #7b1fa2, #e91e63);
          color: white;
          border: none;
          padding: 12px 25px;
          border-radius: 25px;
          cursor: pointer;
          font-weight: bold;
          transition: all 0.3s ease;
          display: inline-block;
          margin-top: 10px;
        }

        .exercise-action:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* ===== Math Content Styles ===== */
        .question {
          padding: 20px;
          margin-bottom: 20px;
          border: 2px solid #f0efff;
          border-radius: 10px;
          background: #faf9ff;
          transition: all 0.3s ease;
        }
        
        .question:hover {
          border-color: #d0ccff;
          box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .question h3 {
          margin: 0 0 15px;
          color: #5549c6;
          font-size: 20px;
        }
        
        .functions {
          background-color: #e3f2fd;
          padding: 20px;
          border-radius: 10px;
          margin: 25px 0;
          text-align: center;
        }
        
        .function-def {
          font-family: 'Courier New', monospace;
          font-size: 22px;
          margin: 15px 0;
          color: #0d47a1;
          font-weight: bold;
        }
        
        .step-container {
          margin-bottom: 30px;
          padding: 20px;
          border-radius: 10px;
          background-color: #f9f9f9;
          border-left: 5px solid #6a5acd;
        }
        
        .step {
          margin-bottom: 20px;
          padding: 15px;
          background-color: #fff;
          border-radius: 8px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .step-number {
          display: inline-block;
          width: 30px;
          height: 30px;
          background-color: #6a5acd;
          color: white;
          border-radius: 50%;
          text-align: center;
          line-height: 30px;
          margin-right: 10px;
          font-weight: bold;
        }
        
        .math-expression {
          font-family: 'Courier New', monospace;
          font-size: 18px;
          padding: 12px;
          background-color: #f5f5f5;
          border-radius: 5px;
          margin: 12px 0;
          overflow-x: auto;
        }
        
        .explanation {
          padding: 12px;
          background-color: #e8f5e9;
          border-radius: 5px;
          margin: 12px 0;
          border-left: 3px solid #4caf50;
        }

        .definition {
          padding: 15px;
          background-color: #e3f2fd;
          border-radius: 8px;
          margin: 15px 0;
          border-left: 4px solid #2196F3;
        }

        .definition h4 {
          color: #0d47a1;
          margin-top: 0;
        }

        .practice-questions {
          background-color: #fff8e1;
          padding: 20px;
          border-radius: 10px;
          margin: 25px 0;
          border-left: 5px solid #ffa000;
        }

        .practice-questions h4 {
          color: #e65100;
          margin-top: 0;
        }

        .practice-question {
          margin: 15px 0;
          padding: 15px;
          background-color: #fff;
          border-radius: 8px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .interactive-box {
          background-color: #fff3e0;
          padding: 18px;
          border-radius: 8px;
          margin: 18px 0;
          border: 1px dashed #ff9800;
        }
        
        .input-group {
          display: flex;
          margin: 15px 0;
        }
        
        input {
          flex: 1;
          padding: 12px;
          border: 1px solid #bbdefb;
          border-radius: 5px 0 0 5px;
          font-size: 16px;
        }
        
        button {
          background-color: #6a5acd;
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 0 5px 5px 0;
          cursor: pointer;
          transition: background-color 0.3s;
        }
        
        button:hover {
          background-color: #5945c0;
        }
        
        .result {
          margin-top: 15px;
          padding: 15px;
          border-radius: 8px;
          background-color: #e8f5e9;
          border-left: 4px solid #4caf50;
          display: none;
        }
        
        .tip {
          background-color: #e1f5fe;
          padding: 15px;
          border-radius: 8px;
          margin: 15px 0;
          border-left: 3px solid #03a9f4;
        }
        
        .relaxation {
          text-align: center;
          margin-top: 40px;
          padding: 25px;
          background: linear-gradient(135deg, #fff3e0 0%, #ffecb3 100%);
          border-radius: 12px;
          box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .breathing-animation {
          width: 40px;
          height: 40px;
          background-color: #ff9800;
          border-radius: 50%;
          margin: 20px auto;
          animation: breathe 4s infinite ease-in-out;
        }
        
        /* ===== Difference Quotient Styles ===== */
        .difference-quotient-section {
          margin-top: 50px;
          padding-top: 30px;
          border-top: 2px solid #e0e0ff;
        }
        
        .function-list {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
          margin: 30px 0;
        }
        
        .function-card {
          background-color: white;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
          text-align: center;
          transition: transform 0.3s;
          cursor: pointer;
        }
        
        .function-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .function-card h4 {
          color: #0d47a1;
          margin-bottom: 15px;
        }
        
        .function-expression {
          font-family: 'Courier New', monospace;
          font-size: 18px;
          font-weight: bold;
          color: #1565c0;
          margin-bottom: 15px;
        }
        
        .interactive-calculator {
          background-color: #fff3e0;
          padding: 25px;
          border-radius: 12px;
          margin: 30px 0;
          box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .dq-input-group {
          margin-bottom: 20px;
        }
        
        .dq-input-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
          color: #555;
        }
        
        .dq-input-group input {
          width: 100%;
          padding: 12px;
          border: 1px solid #bbdefb;
          border-radius: 6px;
          font-size: 16px;
        }
        
        .dq-btn {
          background-color: #42a5f5;
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 16px;
          font-weight: 500;
          transition: background-color 0.3s;
          margin: 10px 5px;
        }
        
        .dq-btn:hover {
          background-color: #1e88e5;
        }
        
        .calculation-steps {
          background-color: #e1f5fe;
          padding: 20px;
          border-radius: 8px;
          margin: 20px 0;
          font-family: 'Courier New', monospace;
          font-size: 16px;
          line-height: 1.8;
        }
        
        .dq-result {
          background-color: #e8f5e9;
          padding: 20px;
          border-radius: 8px;
          margin: 20px 0;
          text-align: center;
          font-size: 18px;
          font-weight: bold;
          color: #2e7d32;
          border-left: 4px solid #4caf50;
        }
        
        .mental-break {
          background-color: #ffcc80;
          padding: 15px;
          border-radius: 50%;
          width: 100px;
          height: 100px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 20px auto;
          cursor: pointer;
          transition: transform 0.3s;
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .mental-break:hover {
          transform: scale(1.1);
        }
        
        .mental-break-text {
          font-size: 14px;
          font-weight: bold;
          text-align: center;
          color: #5d4037;
        }

        .problem {
          margin-bottom: 30px;
          padding-bottom: 20px;
          border-bottom: 1px solid #eee;
        }

        .problem:last-child {
          border-bottom: none;
        }

        .problem h3 {
          color: #333;
          margin-top: 0;
          border-left: 4px solid #6a11cb;
          padding-left: 10px;
        }

        .sub-problem {
          margin: 15px 0;
          padding-left: 20px;
        }

        .solution-input {
          margin: 15px 0;
          display: flex;
          flex-wrap: wrap;
          align-items: center;
          gap: 10px;
        }

        .solution-input label {
          font-weight: bold;
          color: #555;
        }

        .solution-input input {
          padding: 8px 12px;
          border: 1px solid #ddd;
          border-radius: 4px;
          width: 120px;
          transition: border-color 0.3s;
        }

        .solution-input input:focus {
          border-color: #6a11cb;
          outline: none;
        }
        .function-type {
          padding: 4px 12px;
          border-radius: 20px;
          font-weight: bold;
          margin-left: 10px;
        }

        .function-type.even {
          background: #e8f5e9;
          color: #2e7d32;
          border: 2px solid #4caf50;
        }

        .function-type.odd {
          background: #e3f2fd;
          color: #1565c0;
          border: 2px solid #2196f3;
        }

        .function-type.neither {
          background: #fff3e0;
          color: #ef6c00;
          border: 2px solid #ff9800;
        }

        .interactive-quiz {
          background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
          padding: 20px;
          border-radius: 10px;
          margin: 30px 0;
          border: 1px solid #d1d9e6;
        }

        .interactive-quiz h4 {
          color: #2c3e50;
          margin-top: 0;
          text-align: center;
        }

        .quiz-question {
          background: white;
          padding: 15px;
          margin: 15px 0;
          border-radius: 8px;
          border-left: 4px solid #3498db;
        }

        .quiz-options {
          display: flex;
          gap: 10px;
          margin: 10px 0;
          flex-wrap: wrap;
        }

        .quiz-btn {
          padding: 8px 16px;
          border: 2px solid #3498db;
          background: white;
          color: #3498db;
          border-radius: 5px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-weight: bold;
        }

        .quiz-btn:hover {
          background: #3498db;
          color: white;
        }

        .quiz-btn.correct {
          background: #27ae60;
          border-color: #27ae60;
          color: white;
        }

        .quiz-btn.incorrect {
          background: #e74c3c;
          border-color: #e74c3c;
          color: white;
        }

        .quiz-feedback {
          margin-top: 10px;
          padding: 8px 12px;
          border-radius: 5px;
          font-weight: bold;
        }

        .quiz-feedback.correct {
          background: #d5f4e6;
          color: #27ae60;
          border-left: 4px solid #27ae60;
        }

        .quiz-feedback.incorrect {
          background: #fadbd8;
          color: #e74c3c;
          border-left: 4px solid #e74c3c;
        }

        .focus-container {
          margin: 20px 0;
          text-align: center;
        }

        .focus-circle {
          width: 100px;
          height: 100px;
          border-radius: 50%;
          background: linear-gradient(135deg, #9b59b6, #e74c3c);
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto;
          color: white;
          font-weight: bold;
          transition: all 1s ease;
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
          animation: pulse 2s infinite;
        }

        .focus-instructions {
          margin-top: 15px;
          font-style: italic;
          color: #666;
        }

        .check-btn {
          background: #6a11cb;
          color: white;
          border: none;
          padding: 8px 15px;
          border-radius: 4px;
          cursor: pointer;
          transition: background 0.3s;
        }

        .check-btn:hover {
          background: #5a0db3;
        }

        .result {
          margin-top: 10px;
          padding: 8px 12px;
          border-radius: 4px;
          font-weight: bold;
          width: 100%;
        }

        .result.correct {
          background: #e8f5e9;
          color: #2e7d32;
          border-left: 4px solid #4caf50;
        }

        .result.incorrect {
          background: #ffebee;
          color: #c62828;
          border-left: 4px solid #f44336;
        }

        /* Animation classes */
        .animate {
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .animate.active {
          opacity: 1;
          transform: translateY(0);
        }

        .delay-1 {
          transition-delay: 0.1s;
        }

        /* MathJax styling */
        .MathJax {
          font-size: 1.1em;
        }
        
        @keyframes breathe {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.5); }
        }
        
        @media (max-width: 768px) {
          .content {
            padding: 20px;
            margin: 15px;
          }
          
          .function-def {
            font-size: 18px;
          }
          
          input, button {
            padding: 10px;
          }
          
          .math-expression {
            font-size: 16px;
          }
          
          iframe {
            height: 250px;
          }
          
          .function-list {
            grid-template-columns: 1fr;
          }
        }

        /* ===== Footer ===== */
        .footer {
          background: linear-gradient(to bottom, var(--primary-dark), #0f172a);
          color: var(--white);
          padding: 60px 0 20px;
          position: relative;
        }

        .footer::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 10px;
          background: linear-gradient(90deg, var(--secondary), var(--primary));
        }

        .footer-content {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 30px;
          margin-bottom: 40px;
        }

        .footer-about {
          grid-column: span 2;
        }

        .footer-logo {
          font-size: 1.8rem;
          font-weight: 700;
          margin-bottom: 20px;
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .footer-logo-icon {
          width: 40px;
          height: 40px;
          background: linear-gradient(135deg, var(--white), var(--gray));
          color: var(--primary);
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 1.2rem;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .footer-about p {
          opacity: 0.8;
          margin-bottom: 25px;
          line-height: 1.7;
        }

        .social-links {
          display: flex;
          gap: 15px;
        }

        .social-link {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background-color: rgba(255, 255, 255, 0.1);
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .social-link:hover {
          background: linear-gradient(135deg, var(--secondary), var(--accent));
          transform: translateY(-3px);
          box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
        }

        .footer-links h3 {
          font-size: 1.2rem;
          margin-bottom: 20px;
          position: relative;
          padding-bottom: 10px;
          color: var(--white);
        }

        .footer-links h3::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 40px;
          height: 3px;
          background: linear-gradient(to right, var(--secondary), var(--accent));
        }

        .footer-links ul {
          list-style: none;
        }

        .footer-links li {
          margin-bottom: 12px;
        }

        .footer-links a {
          opacity: 0.8;
          transition: all 0.3s ease;
          position: relative;
          padding-left: 15px;
        }

        .footer-links a::before {
          content: '‚Üí';
          position: absolute;
          left: 0;
          opacity: 0;
          transition: all 0.3s ease;
        }

        .footer-links a:hover {
          opacity: 1;
          padding-left: 20px;
        }

        .footer-links a:hover::before {
          opacity: 1;
          left: -5px;
        }

        .footer-bottom {
          text-align: center;
          padding-top: 20px;
          border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-bottom p {
          opacity: 0.7;
          margin-bottom: 15px;
        }

        /* =========================================
   NEW ADDITIONS: Biometrics & Adaptive UI
   ========================================= */

/* 1. Self-Assessment Manikin (Mood Bar) */
.sam-bar {
    position: fixed;
    top: 80px; /* Below navbar */
    right: 20px;
    background: white;
    padding: 10px 15px;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    z-index: 990;
    display: flex;
    gap: 15px;
    align-items: center;
    border: 2px solid #e2e8f0;
}

.sam-btn {
    font-size: 1.5rem;
    cursor: pointer;
    transition: transform 0.2s;
    background: none;
    border: none;
    opacity: 0.6;
}

.sam-btn:hover, .sam-btn.active {
    transform: scale(1.3);
    opacity: 1;
}

.sam-label {
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--text-light);
    margin-right: 5px;
}

/* 2. Adaptive Modal (Hidden by default) */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    z-index: 2000;
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(3px);
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 20px;
    max-width: 500px;
    text-align: center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    border-top: 6px solid var(--accent); /* Pink for empathy */
    animation: fadeIn 0.4s ease;
}

.modal-icon {
    font-size: 3rem;
    margin-bottom: 15px;
    color: var(--accent);
}

.modal-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 25px;
}

        .footer-tags {
          display: flex;
          justify-content: center;
          gap: 15px;
          flex-wrap: wrap;
        }

        .tag {
          background-color: rgba(255, 255, 255, 0.1);
          padding: 5px 15px;
          border-radius: 50px;
          font-size: 0.9rem;
          transition: all 0.3s ease;
        }

        .tag:hover {
          background: linear-gradient(to right, var(--secondary), var(--accent));
          color: var(--text);
          transform: translateY(-2px);
        }
        
        /* ===== Floating Action Button ===== */
        .fab {
          position: fixed;
          bottom: 30px;
          right: 30px;
          width: 60px;
          height: 60px;
          background: linear-gradient(135deg, var(--primary), var(--primary-light));
          color: var(--white);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.5rem;
          box-shadow: 0 6px 15px rgba(30, 64, 175, 0.3);
          cursor: pointer;
          z-index: 999;
          transition: all 0.3s ease;
          animation: pulse 2s infinite;
        }
        
        .fab:hover {
          transform: scale(1.1) rotate(90deg);
          box-shadow: 0 8px 20px rgba(30, 64, 175, 0.4);
        }

        /* ===== Visual Elements ===== */
        .math-emoji {
          font-size: 1.8rem;
          margin: 0 8px;
          animation: float 3s ease-in-out infinite;
        }

        .visual-element {
          text-align: center;
          margin: 15px 0;
        }

        .emoji-row {
          display: flex;
          justify-content: center;
          gap: 12px;
          margin: 12px 0;
        }

        /* ===== Simplified Elements ===== */
        .simple-step {
          background: var(--gray-light);
          padding: 12px;
          border-radius: 8px;
          margin: 10px 0;
        }

        .simple-step h4 {
          color: var(--primary);
          margin-bottom: 8px;
        }

        .quick-tip {
          background: linear-gradient(135deg, #fef3c7, #fef7cd);
          border-left: 4px solid var(--secondary);
          padding: 12px;
          margin: 10px 0;
          border-radius: 0 8px 8px 0;
        }

           .graph-container {
      position: relative;
      height: 400px;
      margin: 20px 0;
      border-radius: 8px;
      overflow: hidden;
      background: #f8f9fa;
      border: 1px solid #e9ecef;
    }
    </style>
</head>
<body>
  <div class="sam-bar" title="How are you feeling right now?">
    <span class="sam-label">Mood:</span>
    <button class="sam-btn" onclick="updateMood('stressed')" title="Stressed/Anxious">üò´</button>
    <button class="sam-btn" onclick="updateMood('neutral')" title="Okay">üòê</button>
    <button class="sam-btn" onclick="updateMood('confident')" title="Confident/Bored">ü§©</button>
</div>

<div id="adaptiveModal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-icon"><i class="fas fa-brain"></i></div>
        <h3 id="modalTitle">Let's adjust the pace</h3>
        <p id="modalMessage">I noticed you're hesitating a bit. That's completely normal!</p>
        
        <p style="font-size: 0.8rem; color: #999; margin-top: 10px;">
            Trigger: <span id="triggerReason">Manual</span>
        </p>

        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal()">Stay Here</button>
            <a href="{{ url_for('serve_chapter', chapter_num=1) }}?mode=high" class="btn btn-primary" id="switchBtn">Switch Mode</a>
        </div>
    </div>
</div>
    <!-- Navigation Bar -->
    <header id="header">
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo">
                    <div class="logo-icon">S</div>
                    <span class="logo-text">Sentellect</span>
                </a>
                
                <ul class="nav-links">
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#solutions">Solutions</a></li>
                    <li><a href="#focus-exercises">Focus Exercises</a></li>
                </ul>
        
                
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        
        <div class="container">
            <div class="hero-content">
                <h1 class="animate">Master Mathematics with <span>Enhanced Focus</span></h1>
                <p class="animate delay-1">Learn advanced mathematical concepts while optimizing your cognitive performance</p>
                <div class="hero-buttons">
                    <a href="#solutions" class="btn btn-primary animate delay-2">View Solutions</a>
                    <a href="#focus-exercises" class="btn btn-secondary animate delay-3">Focus Exercises</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <!-- Video Explanation -->
        <div class="card animate">
            <h2>Video Explanation: Function Fundamentals</h2>
            <p>Watch this comprehensive video to understand the core concepts before solving problems:</p>
            <a href="https://www.youtube.com/watch?v=VX-Z88myrk0" target="_blank" class="btn">
                ‚ñ∂ Watch on YouTube
            </a>
            <iframe src="https://www.youtube.com/embed/VX-Z88myrk0" allowfullscreen></iframe>
        </div>

        <!-- Function Evaluation Practice -->
        <section id="solutions" class="section">
            <div class="card animate delay-1">
                <h2>Function Evaluation Practice</h2>
                
                <div class="definition">
                    <h4>What is a Function?</h4>
                    <p>A function is a relation between a set of inputs (domain) and a set of possible outputs (range) with the property that each input is related to exactly one output.</p>
                    <p>Notation: f(x) where f is the function name and x is the input variable.</p>
                </div>
                
                <div class="functions">
                    <p class="function-def">f(x) = e<sup>-x</sup></p>
                    <p class="function-def">g(x) = ‚àö(x + 4)</p>
                </div>
            
                <div class="tip">
                    <strong>Tip:</strong> Remember that function evaluation is just substitution. Wherever you see the variable (x), replace it with the given value or expression.
                </div>
                
                <!-- Problem 1 -->
                <div class="question">
                    <h3>Question 1: Find f(-2)</h3>
                    
                    <div class="definition">
                        <h4>Understanding the Problem</h4>
                        <p>We need to evaluate the function f(x) = e<sup>-x</sup> at x = -2. This means we substitute -2 for every occurrence of x in the function.</p>
                    </div>
                    
                    <div class="step-container">
                        <div class="step">
                            <span class="step-number">1</span>
                            <span>Start with the function definition</span>
                            <div class="math-expression">f(x) = e<sup>-x</sup></div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">2</span>
                            <span>Substitute x with -2</span>
                            <div class="math-expression">f(-2) = e<sup>-(-2)</sup></div>
                            <div class="explanation">
                                We replace every occurrence of x in the function with -2.
                            </div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">3</span>
                            <span>Simplify the exponent</span>
                            <div class="math-expression">f(-2) = e<sup>2</sup></div>
                            <div class="explanation">
                                The negative signs cancel out: -(-2) = 2
                            </div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">4</span>
                            <span>Calculate the numerical value (if needed)</span>
                            <div class="math-expression">f(-2) = e<sup>2</sup> ‚âà 7.389</div>
                            <div class="explanation">
                                e is Euler's number (approximately 2.71828), so e¬≤ ‚âà (2.71828)¬≤ ‚âà 7.389
                            </div>
                        </div>
                        
                        <div class="interactive-box">
                            <h3>Your Turn:</h3>
                            <p>Try calculating e<sup>2</sup> using a calculator (approximately 7.389)</p>
                            <div class="input-group">
                                <input type="text" id="input1" placeholder="Enter your calculated value">
                                <button onclick="checkAnswer(1)">Check</button>
                            </div>
                            <div class="result" id="result1">
                                <strong>Final Answer:</strong> f(-2) = e<sup>2</sup> ‚âà 7.389
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Practice Questions for Function Evaluation -->
                <div class="practice-questions">
                    <h4>Practice Questions: Function Evaluation</h4>
                    
                    <div class="practice-question">
                        <p><strong>Question 1:</strong> If h(x) = 3x¬≤ - 2x + 5, find h(3)</p>
                        <div class="solution-input">
                            <input type="text" id="practice1" placeholder="Your answer">
                            <button class="check-btn" onclick="checkPractice(1)">Check Answer</button>
                        </div>
                        <div class="result" id="practice-result1"></div>
                    </div>
                    
                    <div class="practice-question">
                        <p><strong>Question 2:</strong> If j(x) = ‚àö(x + 9), find j(7)</p>
                        <div class="solution-input">
                            <input type="text" id="practice2" placeholder="Your answer">
                            <button class="check-btn" onclick="checkPractice(2)">Check Answer</button>
                        </div>
                        <div class="result" id="practice-result2"></div>
                    </div>
                    
                    <div class="practice-question">
                        <p><strong>Question 3:</strong> If k(x) = 2<sup>x</sup>, find k(4)</p>
                        <div class="solution-input">
                            <input type="text" id="practice3" placeholder="Your answer">
                            <button class="check-btn" onclick="checkPractice(3)">Check Answer</button>
                        </div>
                        <div class="result" id="practice-result3"></div>
                    </div>
                </div>
                
                <!-- Focus Exercise 1 -->
                <div class="focus-exercise">
                    <h4>Focus Enhancement: Deep Breathing</h4>
                    <p>Use this breathing exercise to increase oxygen flow to your brain and improve concentration:</p>
                    <div class="breathing-container">
                        <div class="breath-circle" id="breathCircle1">Ready</div>
                        <div class="breath-instructions" id="breathInstructions1">Click Start to begin focus breathing</div>
                    </div>
                    <button class="exercise-action" onclick="startFocusBreathing(1)">Start Breathing Exercise</button>
                </div>
                
                <!-- Problem 2 -->
                <div class="question">
                    <h3>Question 2: Find g(0)</h3>
                    
                    <div class="definition">
                        <h4>Understanding Square Root Functions</h4>
                        <p>The square root function ‚àöx is defined for x ‚â• 0. When evaluating g(x) = ‚àö(x + 4), we need to ensure the expression inside the square root is non-negative.</p>
                    </div>
                    
                    <div class="step-container">
                        <div class="step">
                            <span class="step-number">1</span>
                            <span>Start with the function definition</span>
                            <div class="math-expression">g(x) = ‚àö(x + 4)</div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">2</span>
                            <span>Substitute x with 0</span>
                            <div class="math-expression">g(0) = ‚àö(0 + 4)</div>
                            <div class="explanation">
                                We replace every occurrence of x in the function with 0.
                            </div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">3</span>
                            <span>Simplify inside the square root</span>
                            <div class="math-expression">g(0) = ‚àö4</div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">4</span>
                            <span>Calculate the square root</span>
                            <div class="math-expression">g(0) = 2</div>
                            <div class="explanation">
                                The square root of 4 is 2 because 2 √ó 2 = 4.
                            </div>
                        </div>
                        
                        <div class="interactive-box">
                            <h3>Your Turn:</h3>
                            <p>Try solving this similar problem: g(5) = ‚àö(5 + 4) = ?</p>
                            <div class="input-group">
                                <input type="text" id="input2" placeholder="Enter your answer">
                                <button onclick="checkAnswer(2)">Check</button>
                            </div>
                            <div class="result" id="result2">
                                <strong>Answer:</strong> g(5) = ‚àö9 = 3
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Problem 3 -->
                <div class="question">
                    <h3>Question 3: Find f(x + 1)</h3>
                    
                    <div class="definition">
                        <h4>Function Evaluation with Expressions</h4>
                        <p>When evaluating a function with an expression (like x+1) instead of a number, we substitute the entire expression for the variable.</p>
                    </div>
                    
                    <div class="step-container">
                        <div class="step">
                            <span class="step-number">1</span>
                            <span>Start with the function definition</span>
                            <div class="math-expression">f(x) = e<sup>-x</sup></div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">2</span>
                            <span>Substitute x with (x + 1)</span>
                            <div class="math-expression">f(x + 1) = e<sup>-(x + 1)</sup></div>
                            <div class="explanation">
                                We replace every occurrence of x in the function with (x + 1).
                            </div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">3</span>
                            <span>Simplify the expression</span>
                            <div class="math-expression">f(x + 1) = e<sup>-x - 1</sup></div>
                            <div class="explanation">
                                The negative sign distributes to both terms: -(x + 1) = -x - 1
                            </div>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">4</span>
                            <span>Optional: Rewrite using exponent rules</span>
                            <div class="math-expression">f(x + 1) = e<sup>-x</sup> ¬∑ e<sup>-1</sup> = \frac{e^{-x}}{e}</div>
                            <div class="explanation">
                                Using the rule: a<sup>m+n</sup> = a<sup>m</sup> ¬∑ a<sup>n</sup>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tip">
                    <strong>Remember:</strong> When working with functions, always:
                    <ul>
                        <li>Start with the original function definition</li>
                        <li>Replace the variable with the given value or expression</li>
                        <li>Simplify step by step</li>
                        <li>Double-check your work</li>
                    </ul>
                </div>
                
                <div class="relaxation">
                    <h3>Need a Focus Boost?</h3>
                    <p>Follow the circle as it expands and contracts to reset your focus</p>
                    <div class="breathing-animation"></div>
                    <p>Breathe in as it expands (4 seconds), breathe out as it contracts (4 seconds)</p>
                    <p>Remember: Consistent practice builds mathematical intuition. You're making progress!</p>
                </div>  
            </div>
        </section>

        <!-- Difference Quotient Section -->
        <section class="card animate delay-1">
            <h2>Difference Quotient Practice</h2>
            
            <div class="definition">
                <h4>What is the Difference Quotient?</h4>
                <p>The difference quotient measures the average rate of change of a function over an interval. It's defined as:</p>
                <div class="math-expression">\[ \frac{f(x+h) - f(x)}{h} \]</div>
                <p>This formula is fundamental to calculus as it forms the basis for the derivative.</p>
            </div>
            
            <div class="formula">
                Find \(\frac{f(a + h) - f(a)}{h}\) and simplify
            </div>
            
            <p>The difference quotient measures the average rate of change of a function over an interval. It's the foundation of derivatives in calculus.</p>
            
            <h3>Select a Function to Explore:</h3>
            
            <div class="function-list">
                <div class="function-card" onclick="selectFunction('linear')">
                    <h4>Linear Function</h4>
                    <div class="function-expression">f(x) = 6x - 9</div>
                    <p>Click to explore</p>
                </div>
                
                <div class="function-card" onclick="selectFunction('sine')">
                    <h4>Sine Function</h4>
                    <div class="function-expression">f(x) = sin(x)</div>
                    <p>Click to explore</p>
                </div>
                
                <div class="function-card" onclick="selectFunction('cubic')">
                    <h4>Cubic Function</h4>
                    <div class="function-expression">f(x) = x¬≥ + 2x¬≤ - 1</div>
                    <p>Click to explore</p>
                </div>
                
                <div class="function-card" onclick="selectFunction('cosine')">
                    <h4>Cosine Function</h4>
                    <div class="function-expression">f(x) = cos(x)</div>
                    <p>Click to explore</p>
                </div>
            </div>
            
            <div class="interactive-calculator" id="calculator">
                <h3>Interactive Calculator</h3>
                <p>Select a function above to begin calculating its difference quotient.</p>
                
                <div class="dq-input-group">
                    <label for="a-value">Enter value for a:</label>
                    <input type="number" id="dq-a-value" placeholder="Enter a number" step="0.1">
                </div>
                
                <div class="dq-input-group">
                    <label for="h-value">Enter value for h:</label>
                    <input type="number" id="dq-h-value" placeholder="Enter a number" step="0.1">
                </div>
                
                <button class="dq-btn" onclick="calculateDQ()">Calculate Difference Quotient</button>
                
                <div class="calculation-steps" id="dq-steps">
                    Steps will appear here after calculation...
                </div>
                
                <div class="dq-result" id="dq-result">
                    Result will appear here...
                </div>
            </div>
            
            <!-- Practice Questions for Difference Quotient -->
            <div class="practice-questions">
                <h4>Practice Questions: Difference Quotient</h4>
                
                <div class="practice-question">
                    <p><strong>Question 1:</strong> Find the difference quotient for f(x) = 4x - 7</p>
                    <div class="solution-input">
                        <input type="text" id="dq-practice1" placeholder="Your answer">
                        <button class="check-btn" onclick="checkDQPractice(1)">Check Answer</button>
                    </div>
                    <div class="result" id="dq-practice-result1"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 2:</strong> Find the difference quotient for f(x) = x¬≤</p>
                    <div class="solution-input">
                        <input type="text" id="dq-practice2" placeholder="Your answer">
                        <button class="check-btn" onclick="checkDQPractice(2)">Check Answer</button>
                    </div>
                    <div class="result" id="dq-practice-result2"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 3:</strong> Find the difference quotient for f(x) = 3x¬≤ - 2x + 1</p>
                    <div class="solution-input">
                        <input type="text" id="dq-practice3" placeholder="Your answer">
                        <button class="check-btn" onclick="checkDQPractice(3)">Check Answer</button>
                    </div>
                    <div class="result" id="dq-practice-result3"></div>
                </div>
            </div>
            
            <!-- Focus Exercise 2 -->
            <div class="focus-exercise">
                <h4>Focus Reset: Pomodoro Technique</h4>
                <p>Use this timer to implement the Pomodoro technique - 25 minutes of focused work followed by a 5-minute break:</p>
                <div class="pomodoro-container">
                    <div class="timer-display" id="pomodoro-timer">25:00</div>
                    <div class="pomodoro-status" id="pomodoro-status">Ready to focus</div>
                    <button class="exercise-action" id="start-pomodoro">Start Focus Session</button>
                </div>
            </div>
        </section>

        <!-- Limits and Continuity Section -->
        <section class="card animate delay-1">
            <h2>Limits and Continuity</h2>
            
            <div class="definition">
                <h4>What is a Limit?</h4>
                <p>A limit describes the value that a function approaches as the input approaches some value. Formally:</p>
                <div class="math-expression">\[ \lim_{x \to c} f(x) = L \]</div>
                <p>means that as x gets arbitrarily close to c (but not equal to c), f(x) gets arbitrarily close to L.</p>
            </div>
            
            <div class="question">
                <h3>Evaluate limits using limit theorems</h3>
                
                <div class="step-container">
                    <div class="step">
                        <span class="step-number">(i)</span>
                        <span>\(\lim_{x\to 3} (2x+4)\)</span>
                        <div class="math-expression">Using direct substitution: 2(3) + 4 = 6 + 4 = 10</div>
                        <div class="explanation">
                            <strong>Answer:</strong> 10
                        </div>
                    </div>
                    
                    <div class="step">
                        <span class="step-number">(ii)</span>
                        <span>\(\lim_{x\to 1} (3x^{2}-2x+4)\)</span>
                        <div class="math-expression">Using direct substitution: 3(1)¬≤ - 2(1) + 4 = 3 - 2 + 4 = 5</div>
                        <div class="explanation">
                            <strong>Answer:</strong> 5
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Practice Questions for Limits -->
            <div class="practice-questions">
                <h4>Practice Questions: Limits</h4>
                
                <div class="practice-question">
                    <p><strong>Question 1:</strong> Find \(\lim_{x\to 2} (5x - 3)\)</p>
                    <div class="solution-input">
                        <input type="text" id="limit-practice1" placeholder="Your answer">
                        <button class="check-btn" onclick="checkLimitPractice(1)">Check Answer</button>
                    </div>
                    <div class="result" id="limit-practice-result1"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 2:</strong> Find \(\lim_{x\to 0} \frac{\sin x}{x}\)</p>
                    <div class="solution-input">
                        <input type="text" id="limit-practice2" placeholder="Your answer">
                        <button class="check-btn" onclick="checkLimitPractice(2)">Check Answer</button>
                    </div>
                    <div class="result" id="limit-practice-result2"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 3:</strong> Find \(\lim_{x\to 4} \frac{x^2 - 16}{x - 4}\)</p>
                    <div class="solution-input">
                        <input type="text" id="limit-practice3" placeholder="Your answer">
                        <button class="check-btn" onclick="checkLimitPractice(3)">Check Answer</button>
                    </div>
                    <div class="result" id="limit-practice-result3"></div>
                </div>
            </div>
            
            <!-- Focus Exercise 3 -->
            <div class="focus-exercise">
                <h4>Active Recall Practice</h4>
                <p>Test your understanding of limits by recalling the definition without looking it up:</p>
                <div class="recall-practice">
                    <p id="recall-question">What is the formal definition of a limit?</p>
                    <textarea id="recall-answer" placeholder="Type your answer here..."></textarea>
                    <button class="exercise-action" id="check-recall">Check Answer</button>
                    <div id="recall-feedback" style="margin-top: 10px;"></div>
                </div>
            </div>
        </section>

        <!-- Even and Odd Functions Section -->
        <section class="card animate delay-1">
            <h2>Even and Odd Functions</h2>
            
            <div class="definition">
                <h4>Definitions of Even and Odd Functions</h4>
                <p><strong>Even Function:</strong> A function f is even if f(-x) = f(x) for all x in the domain. Even functions are symmetric about the y-axis.</p>
                <p><strong>Odd Function:</strong> A function f is odd if f(-x) = -f(x) for all x in the domain. Odd functions have rotational symmetry about the origin.</p>
                <p><strong>Neither:</strong> If a function satisfies neither condition, it is neither even nor odd.</p>
            </div>
            
            <div class="question">
                <h3>Problem 9: Determine whether the given function is even or odd</h3>
                
                <div class="step-container">
                    <div class="step">
                        <span class="step-number">(i)</span>
                        <span>\( f(x) = x^3 + x \)</span>
                        <div class="math-expression">Check f(-x) = (-x)¬≥ + (-x) = -x¬≥ - x = -(x¬≥ + x)</div>
                        <div class="math-expression">f(-x) = -f(x)</div>
                        <div class="explanation">
                            <strong>Result:</strong> <span class="function-type odd">ODD FUNCTION</span>
                        </div>
                    </div>
                    
                    <div class="step">
                        <span class="step-number">(ii)</span>
                        <span>\( f(x) = (x + 2)^2 \)</span>
                        <div class="math-expression">Check f(-x) = (-x + 2)¬≤ = (2 - x)¬≤ = x¬≤ - 4x + 4</div>
                        <div class="math-expression">f(-x) ‚â† f(x) and f(-x) ‚â† -f(x)</div>
                        <div class="explanation">
                            <strong>Result:</strong> <span class="function-type neither">NEITHER EVEN NOR ODD</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Practice Questions for Even and Odd Functions -->
            <div class="practice-questions">
                <h4>Practice Questions: Even and Odd Functions</h4>
                
                <div class="practice-question">
                    <p><strong>Question 1:</strong> Determine if f(x) = x‚Å¥ - 3x¬≤ + 1 is even, odd, or neither</p>
                    <div class="solution-input">
                        <select id="even-odd-practice1">
                            <option value="">Select answer</option>
                            <option value="even">Even</option>
                            <option value="odd">Odd</option>
                            <option value="neither">Neither</option>
                        </select>
                        <button class="check-btn" onclick="checkEvenOddPractice(1)">Check Answer</button>
                    </div>
                    <div class="result" id="even-odd-practice-result1"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 2:</strong> Determine if f(x) = x¬≥ - x is even, odd, or neither</p>
                    <div class="solution-input">
                        <select id="even-odd-practice2">
                            <option value="">Select answer</option>
                            <option value="even">Even</option>
                            <option value="odd">Odd</option>
                            <option value="neither">Neither</option>
                        </select>
                        <button class="check-btn" onclick="checkEvenOddPractice(2)">Check Answer</button>
                    </div>
                    <div class="result" id="even-odd-practice-result2"></div>
                </div>
                
                <div class="practice-question">
                    <p><strong>Question 3:</strong> Determine if f(x) = x¬≤ + 2x + 1 is even, odd, or neither</p>
                    <div class="solution-input">
                        <select id="even-odd-practice3">
                            <option value="">Select answer</option>
                            <option value="even">Even</option>
                            <option value="odd">Odd</option>
                            <option value="neither">Neither</option>
                        </select>
                        <button class="check-btn" onclick="checkEvenOddPractice(3)">Check Answer</button>
                    </div>
                    <div class="result" id="even-odd-practice-result3"></div>
                </div>
            </div>
            
            <!-- Interactive Quiz -->
            <div class="interactive-quiz">
                <h4>Test Your Understanding</h4>
                <div class="quiz-question">
                    <p>Is the function f(x) = x¬≤ + 1 even, odd, or neither?</p>
                    <div class="quiz-options">
                        <button class="quiz-btn" onclick="checkQuizAnswer(this, 'even')">Even</button>
                        <button class="quiz-btn" onclick="checkQuizAnswer(this, 'odd')">Odd</button>
                        <button class="quiz-btn" onclick="checkQuizAnswer(this, 'neither')">Neither</button>
                    </div>
                    <div class="quiz-feedback"></div>
                </div>
            </div>
        </section>

        <section id="functions" class="card animate delay-1">
            <h2>Function Operations</h2>
            <p>For the real-valued functions f and g defined below, find f+g, f-g, f¬∑g, and f/g.</p>

            <!-- Problem (i) -->
            <div class="problem">
                <h3>(i) f(x) = 2x + 1; g(x) = 3/(x-1), x ‚â† 1</h3>
             
                <div id="sol1" class="solution">
                    <div class="step">
                        <p><strong>(a) (f+g)(x) = f(x) + g(x)</strong></p>
                        <p class="math">(f+g)(x) = (2x + 1) + 3/(x-1)</p>
                        <p class="math">= (2x + 1)(x-1)/(x-1) + 3/(x-1)</p>
                        <p class="math">= (2x¬≤ - 2x + x - 1 + 3)/(x-1)</p>
                        <p class="math">= (2x¬≤ - x + 2)/(x-1)</p>
                    </div>
                    <div class="step">
                        <p><strong>(b) (f-g)(x) = f(x) - g(x)</strong></p>
                        <p class="math">(f-g)(x) = (2x + 1) - 3/(x-1)</p>
                        <p class="math">= (2x + 1)(x-1)/(x-1) - 3/(x-1)</p>
                        <p class="math">= (2x¬≤ - 2x + x - 1 - 3)/(x-1)</p>
                        <p class="math">= (2x¬≤ - x - 4)/(x-1)</p>
                    </div>
                    <div class="step">
                        <p><strong>(c) (f¬∑g)(x) = f(x) ¬∑ g(x)</strong></p>
                        <p class="math">(f¬∑g)(x) = (2x + 1) ¬∑ 3/(x-1)</p>
                        <p class="math">= 3(2x + 1)/(x-1)</p>
                    </div>
                    <div class="step">
                        <p><strong>(d) (f/g)(x) = f(x) / g(x)</strong></p>
                        <p class="math">(f/g)(x) = (2x + 1) / [3/(x-1)]</p>
                        <p class="math">= (2x + 1)(x-1)/3</p>
                    </div>
                </div>
            </div>

            <!-- Problem (ii) -->
            <div class="problem">
                <h3>(ii) f(x) = ‚àö(x+1); g(x) = 1/x¬≤, x ‚â† 0</h3>
           
                <div id="sol2" class="solution">
                    <div class="step">
                        <p><strong>(a) (f+g)(x) = f(x) + g(x)</strong></p>
                        <p class="math">(f+g)(x) = ‚àö(x+1) + 1/x¬≤</p>
                    </div>
                    <div class="step">
                        <p><strong>(b) (f-g)(x) = f(x) - g(x)</strong></p>
                        <p class="math">(f-g)(x) = ‚àö(x+1) - 1/x¬≤</p>
                    </div>
                    <div class="step">
                        <p><strong>(c) (f¬∑g)(x) = f(x) ¬∑ g(x)</strong></p>
                        <p class="math">(f¬∑g)(x) = ‚àö(x+1) ¬∑ 1/x¬≤</p>
                        <p class="math">= ‚àö(x+1)/x¬≤</p>
                    </div>
                    <div class="step">
                        <p><strong>(d) (f/g)(x) = f(x) / g(x)</strong></p>
                        <p class="math">(f/g)(x) = ‚àö(x+1) / (1/x¬≤)</p>
                        <p class="math">= x¬≤‚àö(x+1)</p>
                    </div>
                </div>
            </div>

            <!-- Problem (iii) -->
            <div class="problem">
                <h3>(iii) f(x) = 1/‚àö(x-1), x ‚â† 1; g(x) = (x¬≤+1)¬≤</h3>
       
                <div id="sol3" class="solution">
                    <div class="step">
                        <p><strong>(a) (f+g)(x) = f(x) + g(x)</strong></p>
                        <p class="math">(f+g)(x) = 1/‚àö(x-1) + (x¬≤+1)¬≤</p>
                    </div>
                    <div class="step">
                        <p><strong>(b) (f-g)(x) = f(x) - g(x)</strong></p>
                        <p class="math">(f-g)(x) = 1/‚àö(x-1) - (x¬≤+1)¬≤</p>
                    </div>
                    <div class="step">
                        <p><strong>(c) (f¬∑g)(x) = f(x) ¬∑ g(x)</strong></p>
                        <p class="math">(f¬∑g)(x) = [1/‚àö(x-1)] ¬∑ (x¬≤+1)¬≤</p>
                        <p class="math">= (x¬≤+1)¬≤/‚àö(x-1)</p>
                    </div>
                    <div class="step">
                        <p><strong>(d) (f/g)(x) = f(x) / g(x)</strong></p>
                        <p class="math">(f/g)(x) = [1/‚àö(x-1)] / (x¬≤+1)¬≤</p>
                        <p class="math">= 1/[(x¬≤+1)¬≤‚àö(x-1)]</p>
                    </div>
                </div>
            </div>

            <!-- Problem (iv) -->
            <div class="problem">
                <h3>(iv) f(x) = 3x‚Å¥ - 2x¬≤; g(x) = 2/‚àöx, x ‚â† 0</h3>
                <div id="sol4" class="solution">
                    <div class="step">
                        <p><strong>(a) (f+g)(x) = f(x) + g(x)</strong></p>
                        <p class="math">(f+g)(x) = 3x‚Å¥ - 2x¬≤ + 2/‚àöx</p>
                    </div>
                    <div class="step">
                        <p><strong>(b) (f-g)(x) = f(x) - g(x)</strong></p>
                        <p class="math">(f-g)(x) = 3x‚Å¥ - 2x¬≤ - 2/‚àöx</p>
                    </div>
                    <div class="step">
                        <p><strong>(c) (f¬∑g)(x) = f(x) ¬∑ g(x)</strong></p>
                        <p class="math">(f¬∑g)(x) = (3x‚Å¥ - 2x¬≤) ¬∑ 2/‚àöx</p>
                        <p class="math">= 2(3x‚Å¥ - 2x¬≤)/‚àöx</p>
                        <p class="math">= 6x^(7/2) - 4x^(3/2)</p>
                    </div>
                    <div class="step">
                        <p><strong>(d) (f/g)(x) = f(x) / g(x)</strong></p>
                        <p class="math">(f/g)(x) = (3x‚Å¥ - 2x¬≤) / (2/‚àöx)</p>
                        <p class="math">= (3x‚Å¥ - 2x¬≤)‚àöx/2</p>
                        <p class="math">= (3x^(9/2) - 2x^(5/2))/2</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Inverse Functions Section -->
        <section id="inverses" class="card animate delay-1">
            <h2>Inverse Functions</h2>
            <p>For each function, find the inverse and verify the inverse property.</p>

            <!-- Problem (i) -->
            <div class="problem">
                <h3>(i) f(x) = -2x + 8</h3>
             
                <div id="sol5" class="solution">
                    <div class="step">
                        <p><strong>Step 1: Replace f(x) with y</strong></p>
                        <p class="math">y = -2x + 8</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 2: Swap x and y</strong></p>
                        <p class="math">x = -2y + 8</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 3: Solve for y</strong></p>
                        <p class="math">x - 8 = -2y</p>
                        <p class="math">y = (8 - x)/2</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 4: Write the inverse function</strong></p>
                        <p class="math">f‚Åª¬π(x) = (8 - x)/2</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 5: Find f‚Åª¬π(-1)</strong></p>
                        <p class="math">f‚Åª¬π(-1) = (8 - (-1))/2 = 9/2 = 4.5</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 6: Verify f(f‚Åª¬π(x)) = x</strong></p>
                        <p class="math">f(f‚Åª¬π(x)) = f((8-x)/2) = -2((8-x)/2) + 8 = -(8-x) + 8 = -8 + x + 8 = x</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 7: Verify f‚Åª¬π(f(x)) = x</strong></p>
                        <p class="math">f‚Åª¬π(f(x)) = f‚Åª¬π(-2x+8) = (8 - (-2x+8))/2 = (8+2x-8)/2 = 2x/2 = x</p>
                    </div>
                </div>
            </div>

            <!-- Problem (ii) -->
            <div class="problem">
                <h3>(ii) f(x) = 3x¬≥ + 7</h3>
           
                <div id="sol6" class="solution">
                    <div class="step">
                        <p><strong>Step 1: Replace f(x) with y</strong></p>
                        <p class="math">y = 3x¬≥ + 7</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 2: Swap x and y</strong></p>
                        <p class="math">x = 3y¬≥ + 7</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 3: Solve for y</strong></p>
                        <p class="math">x - 7 = 3y¬≥</p>
                        <p class="math">y¬≥ = (x - 7)/3</p>
                        <p class="math">y = ‚àõ((x - 7)/3)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 4: Write the inverse function</strong></p>
                        <p class="math">f‚Åª¬π(x) = ‚àõ((x - 7)/3)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 5: Find f‚Åª¬π(-1)</strong></p>
                        <p class="math">f‚Åª¬π(-1) = ‚àõ((-1 - 7)/3) = ‚àõ(-8/3) = -2/‚àõ3</p>
                    </div>
                </div>
            </div>

            <!-- Problem (iii) -->
            <div class="problem">
                <h3>(iii) f(x) = (-x + 9)¬≥</h3>
               
                <div id="sol7" class="solution">
                    <div class="step">
                        <p><strong>Step 1: Replace f(x) with y</strong></p>
                        <p class="math">y = (-x + 9)¬≥</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 2: Swap x and y</strong></p>
                        <p class="math">x = (-y + 9)¬≥</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 3: Solve for y</strong></p>
                        <p class="math">‚àõx = -y + 9</p>
                        <p class="math">y = 9 - ‚àõx</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 4: Write the inverse function</strong></p>
                        <p class="math">f‚Åª¬π(x) = 9 - ‚àõx</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 5: Find f‚Åª¬π(-1)</strong></p>
                        <p class="math">f‚Åª¬π(-1) = 9 - ‚àõ(-1) = 9 - (-1) = 10</p>
                    </div>
                </div>
            </div>

            <!-- Problem (iv) -->
            <div class="problem">
                <h3>(iv) f(x) = (2x + 1)/(x - 1), x > 1</h3>
            
                <div id="sol8" class="solution">
                    <div class="step">
                        <p><strong>Step 1: Replace f(x) with y</strong></p>
                        <p class="math">y = (2x + 1)/(x - 1)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 2: Swap x and y</strong></p>
                        <p class="math">x = (2y + 1)/(y - 1)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 3: Solve for y</strong></p>
                        <p class="math">x(y - 1) = 2y + 1</p>
                        <p class="math">xy - x = 2y + 1</p>
                        <p class="math">xy - 2y = x + 1</p>
                        <p class="math">y(x - 2) = x + 1</p>
                        <p class="math">y = (x + 1)/(x - 2)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 4: Write the inverse function</strong></p>
                        <p class="math">f‚Åª¬π(x) = (x + 1)/(x - 2)</p>
                    </div>
                    <div class="step">
                        <p><strong>Step 5: Find f‚Åª¬π(-1)</strong></p>
                        <p class="math">f‚Åª¬π(-1) = (-1 + 1)/(-1 - 2) = 0/(-3) = 0</p>
                    </div>
                </div>
            </div>

            <!-- Domain and Range Section -->
            <h3>Domain and Range of Inverse Functions</h3>
            
            <div class="problem">
                <h3>(i) f(x) = ‚àö(x + 2)</h3>
               
                <div id="sol9" class="solution">
                    <div class="step">
                        <p><strong>Domain of f:</strong> x + 2 ‚â• 0 ‚Üí x ‚â• -2 ‚Üí [-2, ‚àû)</p>
                        <p><strong>Range of f:</strong> [0, ‚àû)</p>
                        <p><strong>Domain of f‚Åª¬π:</strong> [0, ‚àû) (same as range of f)</p>
                        <p><strong>Range of f‚Åª¬π:</strong> [-2, ‚àû) (same as domain of f)</p>
                    </div>
                </div>
            </div>

            <div class="problem">
                <h3>(ii) f(x) = (x - 1)/(x - 4), x ‚â† 4</h3>
              
                <div id="sol10" class="solution">
                    <div class="step">
                        <p><strong>Domain of f:</strong> (-‚àû, 4) ‚à™ (4, ‚àû)</p>
                        <p><strong>Range of f:</strong> All real numbers except 1</p>
                        <p><strong>Domain of f‚Åª¬π:</strong> All real numbers except 1</p>
                        <p><strong>Range of f‚Åª¬π:</strong> (-‚àû, 4) ‚à™ (4, ‚àû)</p>
                    </div>
                </div>
            </div>

            <div class="problem">
                <h3>(iii) f(x) = 1/(x + 3), x ‚â† -3</h3>
             
                <div id="sol11" class="solution">
                    <div class="step">
                        <p><strong>Domain of f:</strong> (-‚àû, -3) ‚à™ (-3, ‚àû)</p>
                        <p><strong>Range of f:</strong> (-‚àû, 0) ‚à™ (0, ‚àû)</p>
                        <p><strong>Domain of f‚Åª¬π:</strong> (-‚àû, 0) ‚à™ (0, ‚àû)</p>
                        <p><strong>Range of f‚Åª¬π:</strong> (-‚àû, -3) ‚à™ (-3, ‚àû)</p>
                    </div>
                </div>
            </div>

            <div class="problem">
                <h3>(iv) f(x) = (x - 5)¬≤, x ‚â• 5</h3>
            
                <div id="sol12" class="solution">
                    <div class="step">
                        <p><strong>Domain of f:</strong> [5, ‚àû)</p>
                        <p><strong>Range of f:</strong> [0, ‚àû)</p>
                        <p><strong>Domain of f‚Åª¬π:</strong> [0, ‚àû)</p>
                        <p><strong>Range of f‚Åª¬π:</strong> [5, ‚àû)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Focus Exercise -->
        <div class="focus-exercise">
            <h3>üß† Focus Enhancement Exercise</h3>
            <p>Take a moment to practice deep breathing before continuing with the next section:</p>
            <p><strong>Box Breathing Technique:</strong> Inhale for 4 seconds, hold for 4 seconds, exhale for 4 seconds, hold for 4 seconds. Repeat 3 times.</p>
            <button class="btn" onclick="startBreathing()">Start Breathing Exercise</button>
            <div id="breathing-timer" style="margin-top: 1rem; font-size: 1.2rem;"></div>
        </div>
     <div class="card animate delay-1">
      <h2>Linear Inequality Graphs</h2>
      <p>Visualize different linear inequalities by clicking the buttons below:</p>
      
      <div class="controls">
        <button class="step-btn" onclick="showInequality('2x + y ‚â§ 6')">2x + y ‚â§ 6</button>
        <button class="step-btn" onclick="showInequality('3x + 7y ‚â• 21')">3x + 7y ‚â• 21</button>
        <button class="step-btn" onclick="showInequality('5x - 4y ‚â§ 20')">5x - 4y ‚â§ 20</button>
        <button class="step-btn" onclick="showInequality('3x - 2y ‚â• 6')">3x - 2y ‚â• 6</button>
      </div>
      
      <div class="graph-container">
        <canvas id="inequalityGraph"></canvas>
      </div>
      
      <div id="current-inequality" class="solution">
        <p>Click a button above to see an inequality graph!</p>
      </div>
    </div>

    <!-- Real-Life Example Graphs -->
    <div class="card">
      <h2>Real-Life Application Graphs</h2>
      
      <div class="real-life-example">
        <h3>Budgeting Example: 10x + 5y ‚â§ 100</h3>
        <p>Where x is books ($10 each) and y is notebooks ($5 each) with $100 budget</p>
        <div class="graph-container">
          <canvas id="budgetGraph"></canvas>
        </div>
      </div>
      
      <div class="real-life-example">
        <h3>Nutrition Example: 30x + 6y ‚â• 50</h3>
        <p>Where x is chicken servings (30g protein) and y is eggs (6g protein) with 50g daily requirement</p>
        <div class="graph-container">
          <canvas id="nutritionGraph"></canvas>
        </div>
      </div>
      
      <div class="real-life-example">
        <h3>Time Management Example</h3>
        <p>x + y ‚â§ 8 (total study hours) and x ‚â• 2y (math needs twice English time)</p>
        <div class="graph-container">
          <canvas id="timeGraph"></canvas>
        </div>
      </div>
    </div>

    <!-- Practice Question Graphs -->
    <div class="card">
      <h2>Practice Question Graphs</h2>
      
      <div class="question">
        <h3>Question 1: 2x + y ‚â§ 6</h3>
        <div class="graph-container">
          <canvas id="question1Graph"></canvas>
        </div>
        
        <h3>Question 2: 3x + 7y ‚â• 21</h3>
        <div class="graph-container">
          <canvas id="question2Graph"></canvas>
        </div>
        
        <h3>Question 3: System y ‚â• x - 2 and y < 3x + 1</h3>
        <div class="graph-container">
          <canvas id="question4Graph"></canvas>
        </div>
        
        <h3>Linear Programming: Maximize Z = 3x + 4y</h3>
        <p>Constraints: x + y ‚â§ 5, 2x + y ‚â§ 8, x ‚â• 0, y ‚â• 0</p>
        <div class="graph-container">
          <canvas id="question5Graph"></canvas>
        </div>
      </div>
    </div>
  </div>

        <!-- Focus Exercises Section -->
        <section id="focus-exercises" class="section">
            <div class="section-title">
                <h2>Focus Enhancement Exercises</h2>
                <p>Optimize your cognitive performance while learning mathematics</p>
            </div>
            
            <div class="card animate">
                <h3>Focus Optimization Techniques</h3>
                <p>When you need to maintain peak concentration during study sessions, try these evidence-based techniques:</p>
                
                <div class="focus-exercise">
                    <h4>Box Breathing for Mental Clarity</h4>
                    <p>Breathe in for 4 seconds, hold for 4 seconds, breathe out for 4 seconds, hold for 4 seconds. Repeat 5 times.</p>
                    <div class="breathing-animation"></div>
                    <button class="exercise-action" onclick="startBoxBreathing()">Start Box Breathing</button>
                </div>
                
                <div class="focus-exercise">
                    <h4>Progressive Focus Building</h4>
                    <p>Start with 15 minutes of intense focus, then gradually increase your focus sessions by 5 minutes each day.</p>
                    <button class="exercise-action" onclick="startFocusBuilding()">Start Focus Building</button>
                </div>
                
                <div class="focus-exercise">
                    <h4>Active Learning Mindset</h4>
                    <p>Repeat these affirmations: "I am building mathematical intuition", "Challenges strengthen my problem-solving skills", "Each concept I master opens new possibilities"</p>
                    <button class="exercise-action" onclick="showLearningAffirmations()">Show Learning Affirmations</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Completion Message -->
    <div class="completion animate">
        <h3>üéâ Excellent Progress! üéâ</h3>
        <p>You've explored advanced mathematical concepts while optimizing your focus and learning efficiency.</p>
        <p>üåü <strong>Your dedication to mastering mathematics is impressive!</strong> üåü</p>
        <div class="emoji-row">
            <span class="math-emoji">üöÄ</span>
            <span class="math-emoji">üß†</span>
            <span class="math-emoji">üí´</span>
        </div>
    </div>
    <div style="text-align: center; margin: 40px 0; padding-top: 20px; border-top: 1px solid #eee;">
    <h3>Ready to test your knowledge?</h3>
    <a href="{{ url_for('serve_quiz', chapter_num=1) }}" 
       style="display: inline-block; padding: 15px 30px; background: #10b981; color: white; text-decoration: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); transition: transform 0.3s;">
       Take Quiz 1 <i class="fas fa-arrow-right"></i>
    </a>
</div>

    <!-- Floating Action Button -->
    <div class="fab">
        <i class="fas fa-brain"></i>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo">
                        <div class="footer-logo-icon">S</div>
                        Sentellect
                    </div>
                    <p>Personalizing learning through cognitive optimization to improve educational experience for Mathematics.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3>Platform</h3>
                    <ul>
                        <li><a href="#solutions">Solutions</a></li>
                        <li><a href="#focus-exercises">Focus Exercises</a></li>
                        <li><a href="#">Practice</a></li>
                        <li><a href="#">Progress Tracking</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#">Study Materials</a></li>
                        <li><a href="#">Cognitive Techniques</a></li>
                        <li><a href="#">Research</a></li>
                        <li><a href="#">Support</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3>Account</h3>
                    <ul>
                        <li><a href="#">Student Login</a></li>
                        <li><a href="#">Create Account</a></li>
                        <li><a href="#">Progress Dashboard</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2024 Sentellect. Advanced Learning Platform.</p>
                <div class="footer-tags">
                    <a href="#" class="tag">Mathematics</a>
                    <a href="#" class="tag">Focus Optimization</a>
                    <a href="#" class="tag">Cognitive Enhancement</a>
                </div>
            </div>
        </div>
    </footer>
    <div id="timeModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:9999; justify-content:center; align-items:center; backdrop-filter: blur(2px);">
    <div style="background:white; padding:30px; border-radius:20px; max-width:450px; text-align:center; border-top: 6px solid #10b981; box-shadow: 0 10px 25px rgba(0,0,0,0.1);">
        <h3 style="color:#1e40af; margin-bottom:15px;">‚è≥ Just Checking In</h3>
        <p style="font-size:1.1rem; color:#555; margin-bottom:20px;">
            You've been working on this section for 10 minutes. <br><br>
            Sometimes staying on one screen too long can be tiring. Would you like to switch to the <b>Standard Mode</b> for a fresh perspective?
        </p>
        
        <div style="display:flex; gap:15px; justify-content:center; margin-top:20px;">
            <button onclick="resetPageTimer()" style="padding:10px 20px; border:1px solid #ccc; background:white; border-radius:50px; cursor:pointer; font-weight:600; color:#666;">No, I'm good</button>
            <a href="{{ url_for('serve_chapter', chapter_num=1) }}?mode=mid" style="padding:10px 25px; background:#3b82f6; color:white; border-radius:50px; text-decoration:none; font-weight:600; box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);">
                Yes, Switch Mode
            </a>
        </div>
    </div>
</div>

    <script>
        // Initialize main functionality
        /* ======================================================
   SENTELLECT ADAPTIVE ENGINE (FYP INTEGRATION)
   ====================================================== */
/* ======================================================
   1. SENTELLECT ADAPTIVE ENGINE (FYP INTEGRATION)
   ====================================================== */

// STATE TRACKING
const studentState = {
    rageClicks: 0,
    backspaceCount: 0,
    wrongAttempts: {},
    currentMood: 'neutral',
    clickTimer: null
};

// RAGE CLICK DETECTOR (Frustration Theory)
document.addEventListener('click', (e) => {
    studentState.rageClicks++;
    
    if (!studentState.clickTimer) {
        studentState.clickTimer = setTimeout(() => {
            // Check threshold (>4 clicks in 1 sec)
            if (studentState.rageClicks > 4) {
                console.log("‚ö†Ô∏è Rage Click Detected");
                checkAdaptationTrigger("frustration");
            }
            // Reset
            studentState.rageClicks = 0;
            studentState.clickTimer = null;
        }, 1000); // 1 second window
    }
});

// BACKSPACE/HESITATION DETECTOR (Cognitive Load Theory)
document.addEventListener('keydown', (e) => {
    if (e.key === 'Backspace' || e.key === 'Delete') {
        studentState.backspaceCount++;
        
        // Check threshold (e.g., >15 deletes in a session)
        if (studentState.backspaceCount > 3) {
            console.log("‚ö†Ô∏è High Hesitation Detected");
            checkAdaptationTrigger("hesitation");
            studentState.backspaceCount = 0; // Reset after trigger
        }
    }
});

// MOOD BAR (Self-Reported Affect)
function updateMood(mood) {
    studentState.currentMood = mood;
    
    // Highlight the selected emoji
    document.querySelectorAll('.sam-btn').forEach(btn => btn.classList.remove('active'));
    if(event && event.target) event.target.classList.add('active');

    // Immediate Logic
    if (mood === 'stressed') {
        checkAdaptationTrigger("self_report_stress");
    } else if (mood === 'confident') {
        checkAdaptationTrigger("self_report_confidence");
    }
}

// ACCURACY TRACKER
function trackAccuracy(questionId, isCorrect) {
    if (!studentState.wrongAttempts[questionId]) studentState.wrongAttempts[questionId] = 0;

    if (isCorrect) {
        studentState.wrongAttempts[questionId] = 0; // Reset
    } else {
        studentState.wrongAttempts[questionId]++;
        
        // If they get it wrong 3 times
        if (studentState.wrongAttempts[questionId] >= 3) {
            checkAdaptationTrigger("accuracy_fail");
        }
    }
}
/* ==========================================
   BACKGROUND TIMER (10-Minute Check)
   ========================================== */

let pageTimer;
const TIME_LIMIT = 600000; // 10 minutes in milliseconds (10 * 60 * 1000)

// 1. Start the timer when the page loads
window.onload = function() {
    startPageTimer();
    // ... (keep your existing window.onload logic if any) ...
};

function startPageTimer() {
    // Clear any existing timer just in case
    if (pageTimer) clearTimeout(pageTimer);
    
    // Set the timer for 10 minutes
    pageTimer = setTimeout(() => {
        showTimeModal();
    }, TIME_LIMIT);
    
    console.log("üïí Background timer started: 10 minutes");
}

// 2. Function to show the modal
function showTimeModal() {
    const modal = document.getElementById('timeModal');
    if (modal) {
        modal.style.display = 'flex';
        
        // Optional: Log this event to your backend for FYP data
        // fetch('/api/log_behavior', { 
        //     method: 'POST', 
        //     headers: {'Content-Type': 'application/json'},
        //     body: JSON.stringify({ reason: 'time_stuck_10min', context: 'low_stress' })
        // });
    }
}

// 3. Function to reset the timer (if they choose to stay)
function resetPageTimer() {
    const modal = document.getElementById('timeModal');
    if (modal) modal.style.display = 'none';
    startPageTimer(); // Restart for another 10 minutes
}

// THE ADAPTIVE BRAIN (Decision Logic + Backend Logging)
function checkAdaptationTrigger(reason) {
    
    // 1. Log to Backend
    fetch('/api/log_behavior', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            reason: reason,
            rageClicks: studentState.rageClicks,
            mood: studentState.currentMood
        })
    }).catch(err => console.error("Error logging behavior:", err));

    // 2. Get Elements
    const modal = document.getElementById('adaptiveModal');
    const title = document.getElementById('modalTitle');
    const msg = document.getElementById('modalMessage');
    const reasonSpan = document.getElementById('triggerReason');
    const switchBtn = document.getElementById('switchBtn');

    if (!modal) return; // Exit if HTML is missing

    modal.style.display = 'flex';
    if(reasonSpan) reasonSpan.textContent = reason; 

    // 3. LOGIC UPDATED: SWITCH TO 'MID' (Standard Mode)
    
    if (reason === "frustration" || reason === "accuracy_fail") {
        if(title) title.innerText = "Let's Adjust";
        if(msg) msg.innerHTML = "You seem to be having a bit of trouble. Would you like to switch to the <b>Standard Template</b> to see the normal layout?";
        
        if(switchBtn) {
            switchBtn.innerText = "Switch to Standard Mode";
            switchBtn.style.display = 'inline-block';
            switchBtn.onclick = null; 
            switchBtn.href = "/chapter/1?mode=mid"; // <--- CHANGED TO MID
        }
    } 
    else if (reason === "self_report_confidence") {
        if(title) title.innerText = "Ready to Move Up?";
        if(msg) msg.innerHTML = "You seem confident! Let's switch you back to the <b>Standard Mode</b>.";
        
        if(switchBtn) {
            switchBtn.innerText = "Switch to Standard Mode";
            switchBtn.style.display = 'inline-block';
            switchBtn.onclick = null;
            switchBtn.href = "/chapter/1?mode=mid"; // <--- CHANGED TO MID
        }
    }
    else if (reason === "hesitation") {
        // For hesitation, we might just keep them here
        if(title) title.innerText = "Take your time";
        if(msg) msg.innerText = "Accuracy is more important than speed. You are doing fine.";
        if(switchBtn) switchBtn.style.display = 'none'; 
    }
}

function closeModal() {
    const modal = document.getElementById('adaptiveModal');
    if(modal) modal.style.display = 'none';
}


/* ======================================================
   2. QUESTION CHECKING FUNCTIONS (Modified with Tracking)
   ====================================================== */

// Main Function Evaluation
function checkAnswer(problemNum) {
    const answers = {
        1: "7.389",
        2: "3",
        3: "e^{-2x}",
        4: "‚àö(2y+4)"
    };
    
    const userInput = document.getElementById(`input${problemNum}`).value.trim().toLowerCase();
    const resultDiv = document.getElementById(`result${problemNum}`);
    
    resultDiv.style.display = 'block';
    
    if (userInput === answers[problemNum].toLowerCase()) {
        resultDiv.style.borderLeft = '4px solid #4caf50';
        resultDiv.querySelector('strong').innerHTML = 'Correct! ';
        trackAccuracy('q'+problemNum, true); // <--- TRACKING ADDED
    } else if (userInput !== '') {
        resultDiv.style.borderLeft = '4px solid #ff9800';
        resultDiv.querySelector('strong').innerHTML = 'Almost! ';
        trackAccuracy('q'+problemNum, false); // <--- TRACKING ADDED
    }
}

// Practice Questions
function checkPractice(questionNum) {
    const answers = { 1: "26", 2: "4", 3: "16" };
    const userInput = document.getElementById(`practice${questionNum}`).value.trim();
    const resultDiv = document.getElementById(`practice-result${questionNum}`);
    
    resultDiv.style.display = 'block';
    
    if (userInput === answers[questionNum]) {
        resultDiv.textContent = "Correct! Well done!";
        resultDiv.className = "result correct";
        trackAccuracy('p'+questionNum, true); // <--- TRACKING ADDED
    } else {
        resultDiv.textContent = "Not quite. Try again!";
        resultDiv.className = "result incorrect";
        trackAccuracy('p'+questionNum, false); // <--- TRACKING ADDED
    }
}

// Difference Quotient Practice
function checkDQPractice(questionNum) {
    const answers = { 1: "4", 2: "2x + h", 3: "6x + 3h - 2" };
    const userInput = document.getElementById(`dq-practice${questionNum}`).value.trim();
    const resultDiv = document.getElementById(`dq-practice-result${questionNum}`);
    
    resultDiv.style.display = 'block';
    
    if (userInput === answers[questionNum]) {
        resultDiv.textContent = "Correct! Well done!";
        resultDiv.className = "result correct";
        trackAccuracy('dq'+questionNum, true);
    } else {
        resultDiv.textContent = "Not quite. Try again!";
        resultDiv.className = "result incorrect";
        trackAccuracy('dq'+questionNum, false);
    }
}

// Limits Practice
function checkLimitPractice(questionNum) {
    const answers = { 1: "7", 2: "1", 3: "8" };
    const userInput = document.getElementById(`limit-practice${questionNum}`).value.trim();
    const resultDiv = document.getElementById(`limit-practice-result${questionNum}`);
    
    resultDiv.style.display = 'block';
    
    if (userInput === answers[questionNum]) {
        resultDiv.textContent = "Correct! Well done!";
        resultDiv.className = "result correct";
        trackAccuracy('lim'+questionNum, true);
    } else {
        resultDiv.textContent = "Not quite. Try again!";
        resultDiv.className = "result incorrect";
        trackAccuracy('lim'+questionNum, false);
    }
}

// Even/Odd Practice
function checkEvenOddPractice(questionNum) {
    const answers = { 1: "even", 2: "odd", 3: "neither" };
    const userInput = document.getElementById(`even-odd-practice${questionNum}`).value;
    const resultDiv = document.getElementById(`even-odd-practice-result${questionNum}`);
    
    resultDiv.style.display = 'block';
    
    if (userInput === answers[questionNum]) {
        resultDiv.textContent = "Correct! Well done!";
        resultDiv.className = "result correct";
        trackAccuracy('eo'+questionNum, true);
    } else {
        resultDiv.textContent = "Not quite. Try again!";
        resultDiv.className = "result incorrect";
        trackAccuracy('eo'+questionNum, false);
    }
}

// Interactive Quiz
function checkQuizAnswer(button, correctAnswer) {
    const question = button.closest('.quiz-question');
    const feedback = question.querySelector('.quiz-feedback');
    const buttons = question.querySelectorAll('.quiz-btn');
    
    buttons.forEach(btn => btn.classList.remove('correct', 'incorrect'));
    
    if (button.textContent.toLowerCase() === correctAnswer) {
        button.classList.add('correct');
        feedback.textContent = "Correct! f(x) = x¬≤ + 1 is an even function.";
        feedback.className = "quiz-feedback correct";
        trackAccuracy('quiz1', true);
    } else {
        button.classList.add('incorrect');
        feedback.textContent = "Not quite. Check f(-x).";
        feedback.className = "quiz-feedback incorrect";
        trackAccuracy('quiz1', false);
        
        buttons.forEach(btn => {
            if (btn.textContent.toLowerCase() === 'even') btn.classList.add('correct');
        });
    }
}


/* ======================================================
   3. MATHEMATICAL CALCULATORS & CONTENT
   ====================================================== */

let selectedFunction = null;

const functions = {
    linear: {
        name: '6x - 9',
        calculate: function(a, h) {
            const f_a = 6*a - 9;
            const f_a_plus_h = 6*(a+h) - 9;
            const difference = f_a_plus_h - f_a;
            const quotient = difference / h;
            return {
                steps: [
                    `f(a) = 6(${a}) - 9 = ${f_a}`,
                    `f(a + h) = 6(${a} + ${h}) - 9 = ${f_a_plus_h}`,
                    `[f(a + h) - f(a)] / h = ${quotient}`
                ],
                result: quotient
            };
        }
    },
    sine: {
        name: 'sin(x)',
        calculate: function(a, h) {
            const f_a = Math.sin(a);
            const f_a_plus_h = Math.sin(a+h);
            const difference = f_a_plus_h - f_a;
            const quotient = difference / h;
            return {
                steps: [
                    `f(a) = sin(${a}) = ${f_a.toFixed(4)}`,
                    `f(a + h) = sin(${a+h}) = ${f_a_plus_h.toFixed(4)}`,
                    `Difference Quotient ‚âà ${quotient.toFixed(4)}`
                ],
                result: quotient
            };
        }
    },
    cubic: {
        name: 'x¬≥ + 2x¬≤ - 1',
        calculate: function(a, h) {
            const f_a = Math.pow(a, 3) + 2*Math.pow(a, 2) - 1;
            const f_a_plus_h = Math.pow(a+h, 3) + 2*Math.pow(a+h, 2) - 1;
            const difference = f_a_plus_h - f_a;
            const quotient = difference / h;
            return {
                steps: [
                    `f(a) = ${f_a}`,
                    `f(a + h) = ${f_a_plus_h}`,
                    `Difference Quotient = ${quotient}`
                ],
                result: quotient
            };
        }
    },
    cosine: {
        name: 'cos(x)',
        calculate: function(a, h) {
            const f_a = Math.cos(a);
            const f_a_plus_h = Math.cos(a+h);
            const difference = f_a_plus_h - f_a;
            const quotient = difference / h;
            return {
                steps: [
                    `f(a) = ${f_a.toFixed(4)}`,
                    `f(a + h) = ${f_a_plus_h.toFixed(4)}`,
                    `Difference Quotient ‚âà ${quotient.toFixed(4)}`
                ],
                result: quotient
            };
        }
    }
};

function selectFunction(funcType) {
    selectedFunction = funcType;
    document.getElementById('calculator').style.opacity = 1;
    document.querySelectorAll('.function-card').forEach(card => card.style.border = 'none');
    if(event) event.currentTarget.style.border = '3px solid #42a5f5';
    
    document.getElementById('dq-steps').innerHTML = `Selected function: <strong>${functions[funcType].name}</strong>. Enter values above.`;
    document.getElementById('dq-result').innerHTML = 'Result will appear here...';
}

function calculateDQ() {
    if (!selectedFunction) { alert('Please select a function first!'); return; }
    const a = parseFloat(document.getElementById('dq-a-value').value);
    const h = parseFloat(document.getElementById('dq-h-value').value);
    
    if (isNaN(a) || isNaN(h)) { alert('Please enter valid numbers!'); return; }
    if (h === 0) { alert('h cannot be zero!'); return; }
    
    const calculation = functions[selectedFunction].calculate(a, h);
    
    let stepsHTML = '<h4>Calculation Steps:</h4>';
    calculation.steps.forEach(step => stepsHTML += `<div>${step}</div>`);
    document.getElementById('dq-steps').innerHTML = stepsHTML;
    document.getElementById('dq-result').innerHTML = `Result: <strong>${calculation.result}</strong>`;
}

/* ======================================================
   4. FOCUS & BREATHING EXERCISES
   ====================================================== */

function startFocusBreathing(exerciseNum) {
    const breathCircle = document.getElementById(`breathCircle${exerciseNum}`);
    const breathInstructions = document.getElementById(`breathInstructions${exerciseNum}`);
    // Safe selection of exercise action buttons
    const buttons = document.querySelectorAll('.exercise-action');
    const exerciseAction = buttons.length >= exerciseNum ? buttons[exerciseNum - 1] : null;
    
    if(exerciseAction) {
        exerciseAction.textContent = "Exercise in progress...";
        exerciseAction.style.pointerEvents = "none";
    }
    
    let cycle = 0;
    const totalCycles = 3;
    
    function breathingCycle() {
        if (cycle >= totalCycles) {
            if(breathCircle) {
                breathCircle.textContent = "Complete!";
                breathCircle.style.transform = "scale(1)";
            }
            if(breathInstructions) breathInstructions.textContent = "Focus breathing completed!";
            if(exerciseAction) {
                exerciseAction.textContent = "Start Breathing Exercise";
                exerciseAction.style.pointerEvents = "auto";
            }
            return;
        }
        
        cycle++;
        if(breathCircle) {
            breathCircle.textContent = "Breathe In";
            breathCircle.style.transform = "scale(1.5)";
            breathCircle.style.background = "linear-gradient(135deg, #4CAF50, #81C784)";
        }
        
        setTimeout(() => {
            if(breathCircle) {
                breathCircle.textContent = "Hold";
                breathCircle.style.background = "linear-gradient(135deg, #FF9800, #FFB74D)";
            }
            
            setTimeout(() => {
                if(breathCircle) {
                    breathCircle.textContent = "Breathe Out";
                    breathCircle.style.transform = "scale(1)";
                    breathCircle.style.background = "linear-gradient(135deg, #2196F3, #64B5F6)";
                }
                setTimeout(() => breathingCycle(), 4000);
            }, 4000);
        }, 4000);
    }
    
    breathingCycle();
}

// Pomodoro Timer
document.addEventListener('DOMContentLoaded', () => {
    const pomodoroBtn = document.getElementById('start-pomodoro');
    if(pomodoroBtn) {
        pomodoroBtn.addEventListener('click', function() {
            const timer = document.getElementById('pomodoro-timer');
            const status = document.getElementById('pomodoro-status');
            
            this.disabled = true;
            this.textContent = 'Session in progress...';
            status.textContent = 'Focus time!';
            
            let minutes = 25, seconds = 0;
            const countdown = setInterval(() => {
                timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                if (seconds === 0) {
                    if (minutes === 0) {
                        clearInterval(countdown);
                        timer.textContent = '00:00';
                        status.textContent = 'Take a break!';
                        pomodoroBtn.disabled = false;
                        pomodoroBtn.textContent = 'Start Another Session';
                        return;
                    }
                    minutes--;
                    seconds = 59;
                } else {
                    seconds--;
                }
            }, 1000);
        });
    }

    // Active Recall
    const recallBtn = document.getElementById('check-recall');
    if(recallBtn) {
        recallBtn.addEventListener('click', function() {
            const answer = document.getElementById('recall-answer').value.toLowerCase();
            const feedback = document.getElementById('recall-feedback');
            
            if (answer.includes('limit') && (answer.includes('approaches') || answer.includes('epsilon'))) {
                feedback.innerHTML = '<span style="color: green;">Good recall!</span>';
            } else {
                feedback.innerHTML = '<span style="color: red;">Try recalling the epsilon-delta definition.</span>';
            }
        });
    }
});

function startBoxBreathing() {
    alert("Box Breathing: Inhale 4s, Hold 4s, Exhale 4s, Hold 4s. Repeat 5x.");
}

function startFocusBuilding() {
    alert("Start with 15 mins focus, increase by 5 mins daily.");
}

function showLearningAffirmations() {
    const affirmations = [
        "I am building mathematical intuition.",
        "Challenges strengthen my skills.",
        "My focus improves with practice."
    ];
    alert(affirmations[Math.floor(Math.random() * affirmations.length)]);
}

// Header Scroll Effect
window.addEventListener('scroll', function() {
    const header = document.getElementById('header');
    if(header) {
        if (window.scrollY > 50) header.classList.add('scrolled');
        else header.classList.remove('scrolled');
    }
});

// Animation Observer
document.addEventListener('DOMContentLoaded', function() {
    const animatedElements = document.querySelectorAll('.animate');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) entry.target.classList.add('active');
        });
    }, { threshold: 0.1 });
    
    animatedElements.forEach(el => observer.observe(el));
    
    // Initialize MathJax
    if (typeof MathJax !== 'undefined' && MathJax.typeset) MathJax.typeset();
});

// Mobile Menu
const menuBtn = document.querySelector('.mobile-menu-btn');
if(menuBtn) {
    menuBtn.addEventListener('click', function() {
        document.querySelector('.nav-links').classList.toggle('active');
    });
}

function toggleSolution(id) {
    document.getElementById(id).classList.toggle('show');
}

// Simple Breathing
function startBreathing() {
    const timer = document.getElementById('breathing-timer');
    let count = 0;
    const phases = ['Inhale...', 'Hold...', 'Exhale...', 'Hold...'];
    const interval = setInterval(() => {
        timer.textContent = phases[count % 4];
        count++;
        if (count >= 12) {
            clearInterval(interval);
            timer.textContent = 'Complete!';
        }
    }, 4000);
}

/* ======================================================
   5. CHART.JS VISUALIZATIONS
   ====================================================== */

// Helper to create datasets
function createInequalityDataset(lineLabel, regionLabel, lineFunc, regionFunc) {
    let lineData = [], regionData = [];
    for(let x = -5; x <= 15; x++) lineData.push({x: x, y: lineFunc(x)});
    for(let x = -5; x <= 15; x += 0.5) {
        for(let y = -5; y <= 15; y += 0.5) {
            if (regionFunc(x, y)) regionData.push({x: x, y: y});
        }
    }
    return [
        { label: lineLabel, data: lineData, showLine: true, borderColor: '#6a11cb', borderWidth: 3, pointRadius: 0, fill: false },
        { label: regionLabel, data: regionData, pointRadius: 0, backgroundColor: 'rgba(106, 17, 203, 0.2)', showLine: false, fill: true }
    ];
}

// Initialize Charts
document.addEventListener('DOMContentLoaded', function() {
    // 1. Inequality Graph
    const ctx = document.getElementById('inequalityGraph');
    let inequalityChart;
    if(ctx) {
        inequalityChart = new Chart(ctx.getContext('2d'), {
            type: 'scatter',
            data: { datasets: [] },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { x: { min: -5, max: 15 }, y: { min: -5, max: 15 } }
            }
        });
        // Initial load
        showInequality('2x + y ‚â§ 6');
    }

    // Function to update the main inequality chart
    window.showInequality = function(inequality) {
        if(!inequalityChart) return;
        let datasets = [], explanation = "";
        
        switch(inequality) {
            case '2x + y ‚â§ 6':
                datasets = createInequalityDataset('2x + y = 6', '2x + y ‚â§ 6', x => 6 - 2*x, (x, y) => 2*x + y <= 6);
                explanation = "Solid line (‚â§). Test (0,0): 0 ‚â§ 6 (True).";
                break;
            case '3x + 7y ‚â• 21':
                datasets = createInequalityDataset('3x + 7y = 21', '3x + 7y ‚â• 21', x => (21 - 3*x)/7, (x, y) => 3*x + 7*y >= 21);
                explanation = "Solid line (‚â•). Test (0,0): 0 ‚â• 21 (False).";
                break;
            case '5x - 4y ‚â§ 20':
                datasets = createInequalityDataset('5x - 4y = 20', '5x - 4y ‚â§ 20', x => (5*x - 20)/4, (x, y) => 5*x - 4*y <= 20);
                explanation = "Solid line (‚â§). Test (0,0): 0 ‚â§ 20 (True).";
                break;
            case '3x - 2y ‚â• 6':
                datasets = createInequalityDataset('3x - 2y = 6', '3x - 2y ‚â• 6', x => (3*x - 6)/2, (x, y) => 3*x - 2*y >= 6);
                explanation = "Solid line (‚â•). Test (0,0): 0 ‚â• 6 (False).";
                break;
        }
        
        inequalityChart.data.datasets = datasets;
        inequalityChart.update();
        const explDiv = document.getElementById('current-inequality');
        if(explDiv) explDiv.innerHTML = explanation;
    };

    // 2. Real Life Examples
    const budgetCtx = document.getElementById('budgetGraph');
    if(budgetCtx) {
        new Chart(budgetCtx.getContext('2d'), {
            type: 'scatter',
            data: { datasets: createInequalityDataset('10x + 5y = 100', 'Budget', x => (100 - 10*x)/5, (x, y) => 10*x + 5*y <= 100) },
            options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: 0, max: 12 }, y: { min: 0, max: 25 } } }
        });
    }

    const nutritionCtx = document.getElementById('nutritionGraph');
    if(nutritionCtx) {
        new Chart(nutritionCtx.getContext('2d'), {
            type: 'scatter',
            data: { datasets: createInequalityDataset('30x + 6y = 50', 'Nutrition', x => (50 - 30*x)/6, (x, y) => 30*x + 6*y >= 50) },
            options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: 0, max: 5 }, y: { min: 0, max: 15 } } }
        });
    }

    const timeCtx = document.getElementById('timeGraph');
    if(timeCtx) {
        new Chart(timeCtx.getContext('2d'), {
            type: 'scatter',
            data: { datasets: [
                ...createInequalityDataset('x + y = 8', 'Max Hours', x => 8 - x, (x, y) => x + y <= 8),
                ...createInequalityDataset('x = 2y', 'Math Ratio', x => x/2, (x, y) => x >= 2*y)
            ]},
            options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: 0, max: 10 }, y: { min: 0, max: 10 } } }
        });
    }

    // 3. Question Graphs
    const q1Ctx = document.getElementById('question1Graph');
    if(q1Ctx) new Chart(q1Ctx.getContext('2d'), {
        type: 'scatter',
        data: { datasets: createInequalityDataset('2x + y = 6', 'Region', x => 6 - 2*x, (x, y) => 2*x + y <= 6) },
        options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: -2, max: 8 }, y: { min: -2, max: 8 } } }
    });

    const q2Ctx = document.getElementById('question2Graph');
    if(q2Ctx) new Chart(q2Ctx.getContext('2d'), {
        type: 'scatter',
        data: { datasets: createInequalityDataset('3x + 7y = 21', 'Region', x => (21 - 3*x)/7, (x, y) => 3*x + 7*y >= 21) },
        options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: -2, max: 10 }, y: { min: -2, max: 8 } } }
    });

    const q4Ctx = document.getElementById('question4Graph');
    if(q4Ctx) new Chart(q4Ctx.getContext('2d'), {
        type: 'scatter',
        data: { datasets: [
            ...createInequalityDataset('y = x - 2', 'y ‚â• x-2', x => x - 2, (x, y) => y >= x - 2),
            ...createInequalityDataset('y = 3x + 1', 'y < 3x+1', x => 3*x + 1, (x, y) => y < 3*x + 1)
        ]},
        options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: -5, max: 10 }, y: { min: -5, max: 10 } } }
    });

    const q5Ctx = document.getElementById('question5Graph');
    if(q5Ctx) new Chart(q5Ctx.getContext('2d'), {
        type: 'scatter',
        data: { datasets: [
            ...createInequalityDataset('x + y = 5', 'Constraint 1', x => 5 - x, (x, y) => x + y <= 5),
            ...createInequalityDataset('2x + y = 8', 'Constraint 2', x => 8 - 2*x, (x, y) => 2*x + y <= 8)
        ]},
        options: { responsive: true, maintainAspectRatio: false, scales: { x: { min: 0, max: 8 }, y: { min: 0, max: 8 } } }
    });
});
    </script>
</body>
</html>