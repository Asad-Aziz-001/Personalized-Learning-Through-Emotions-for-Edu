<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sentellect - Conic Sections (FSc Part 2)</title>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    /* ===== Base Styles (Same as 4.5) ===== */
    :root {
      --primary: #1e40af;
      --primary-light: #3b82f6;
      --primary-dark: #1e3a8a;
      --secondary: #f59e0b;
      --accent: #ec4899;
      --text: #1e293b;
      --text-light: #64748b;
      --text-lighter: #94a3b8;
      --bg: #f8fafc;
      --white: #ffffff;
      --gray: #e2e8f0;
      --gray-light: #f1f5f9;
      --success: #10b981;
      --card-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      --hover-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      --pastel-bg: #f3f8ff;
      --muted: #64748b;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    h1, h2, h3, h4 {
      font-weight: 700;
      line-height: 1.2;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    section {
      padding: 80px 0;
      padding-top: 0;
      padding-bottom: 0;
    }

    .section-title {
      text-align: center;
      margin-bottom: 50px;
    }

    .section-title h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 15px;
      position: relative;
      display: inline-block;
    }

    .section-title h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: var(--secondary);
      border-radius: 2px;
    }

    .section-title p {
      color: var(--text-light);
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto;
    }

    .btn {
      display: inline-block;
      padding: 12px 28px;
      border-radius: 50px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-align: center;
      cursor: pointer;
    }

    .btn-primary {
      background-color: var(--primary);
      color: var(--white);
      box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
    }

    .btn-primary:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(30, 64, 175, 0.4);
    }

    .btn-secondary {
      background-color: var(--white);
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background-color: var(--primary);
      color: var(--white);
      transform: translateY(-2px);
    }

    /* ===== Animations ===== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    @keyframes slideIn {
      from { transform: translateX(-20px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0.95); opacity: 0; }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.45); }
    }

    @keyframes wavey {
      0% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
      100% { transform: translateY(0); }
    }

    .animate {
      animation: fadeIn 0.8s ease forwards;
    }
    
    .animate-slide {
      animation: slideIn 0.6s ease forwards;
    }
    
    .animate-bounce {
      animation: bounceIn 0.8s ease forwards;
    }

    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
    .delay-4 { animation-delay: 0.8s; }

    /* ===== Header/Navbar ===== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      background-color: var(--white);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    header.scrolled {
      padding: 10px 0;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(30, 64, 175, 0.2);
    }

    .logo-text {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      transition: all 0.3s ease;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 30px;
    }

    .nav-links a {
      font-weight: 500;
      position: relative;
      padding: 5px 0;
      transition: color 0.3s ease;
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 100%;
    }

    .nav-links a.active {
      color: var(--primary);
      font-weight: 600;
    }

    .auth-buttons {
      display: flex;
      gap: 15px;
    }

    .login-btn {
      padding: 8px 20px;
      border-radius: 50px;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .login-btn:hover {
      color: var(--primary);
    }

    .signup-btn {
      padding: 8px 20px;
      border-radius: 50px;
      background: linear-gradient(to right, var(--primary), var(--primary-light));
      color: var(--white);
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(30, 64, 175, 0.25);
    }

    .signup-btn:hover {
      background: linear-gradient(to right, var(--primary-dark), var(--primary));
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(30, 64, 175, 0.35);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--primary);
      cursor: pointer;
    }
    
    /* ===== Hero Section ===== */
    .hero {
      position: relative;
      padding: 180px 0 80px;
      background: linear-gradient(135deg, var(--primary), #004e92);
      color: var(--white);
      overflow: hidden;
      text-align: center;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIvPjwvc3ZnPg==');
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h1 {
      font-size: 3.2rem;
      margin-bottom: 20px;
      line-height: 1.2;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      white-space: nowrap;
    }

    .hero h1 span {
      color: var(--secondary);
      position: relative;
    }

    .hero h1 span::after {
      content: '';
      position: absolute;
      bottom: 5px;
      left: 0;
      width: 100%;
      height: 8px;
      background-color: rgba(255, 255, 255, 0.3);
      z-index: -1;
      border-radius: 4px;
    }

    .hero p {
      font-size: 1.2rem;
      margin-bottom: 40px;
      opacity: 0.9;
    }

    .hero-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .hero .btn-secondary {
      background-color: transparent;
      color: var(--white);
      border-color: var(--white);
    }

    .hero .btn-secondary:hover {
      background-color: var(--white);
      color: var(--primary);
    }

    .floating-shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      z-index: 0;
      animation: float 6s ease-in-out infinite;
    }

    .shape-1 {
      width: 150px;
      height: 150px;
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .shape-2 {
      width: 100px;
      height: 100px;
      bottom: 15%;
      right: 10%;
      animation-delay: 0.5s;
    }

    .shape-3 {
      width: 80px;
      height: 80px;
      top: 30%;
      right: 20%;
      animation-delay: 1s;
    }
    
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
    }
    
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 8s infinite ease-in-out;
    }

    /* ===== Card Styles ===== */
    .card {
      background-color: var(--white);
      border-radius: 16px;
      padding: 30px;
      margin: 25px 0;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), var(--secondary));
      transition: width 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: var(--hover-shadow);
    }
    
    .card:hover::before {
      width: 8px;
    }

    h2 {
      color: var(--primary);
      font-size: 1.8rem;
      margin-bottom: 20px;
      font-weight: 600;
    }

    h3 {
      color: var(--primary);
      font-size: 1.4rem;
      margin: 25px 0 15px;
      font-weight: 600;
      position: relative;
      padding-left: 15px;
    }
    
    h3::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 6px;
      height: 6px;
      background: var(--secondary);
      border-radius: 50%;
    }

    p {
      color: var(--text-light);
      margin-bottom: 20px;
      line-height: 1.7;
    }

    .lead {
      color: var(--muted);
      margin-bottom: 10px;
    }

    /* ===== Step Buttons ===== */
    .step-buttons {
      display: flex;
      gap: 12px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .step-btn {
      padding: 10px 16px;
      background: linear-gradient(to right, var(--primary), var(--primary-light));
      color: var(--white);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      box-shadow: 0 4px 8px rgba(30, 64, 175, 0.2);
    }

    .step-btn:hover {
      background: linear-gradient(to right, var(--primary-dark), var(--primary));
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(30, 64, 175, 0.3);
    }

    /* ===== Solution Display ===== */
    .solution {
      background: var(--gray-light);
      border-left: 4px solid var(--secondary);
      padding: 20px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .solution::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent);
      transform: translateX(-100%);
    }
    
    .solution.active::before {
      animation: shimmer 1.5s ease;
    }

    /* ===== Self-Care Notes ===== */
    .self-care {
      background: linear-gradient(135deg, #e0f2fe, #f0f9ff);
      border-radius: 12px;
      padding: 20px;
      margin: 25px 0;
      text-align: center;
      border-left: 5px solid var(--accent);
      animation: pulse 3s infinite;
    }

    .self-care h4 {
      color: var(--accent);
      margin-bottom: 10px;
      font-size: 1.3rem;
    }

    .self-care p {
      color: var(--text);
      font-size: 1.1rem;
      margin-bottom: 0;
    }

    /* ===== Visual Elements ===== */
    .math-emoji {
      font-size: 2rem;
      margin: 0 10px;
      animation: float 3s ease-in-out infinite;
    }

    .emoji-row {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 15px 0;
    }

    /* ===== Exercise 6.1 Specific Styles ===== */
    .definition {
      background: #f3fbff;
      border-left: 6px solid var(--primary);
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .definition-content{flex:1}
    .definition-cartoon{flex-shrink:0;width:80px;height:80px;display:flex;align-items:center;justify-content:center}

    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .big {
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 6px;
    }

    .step-block {
      margin-top: 10px;
    }

    .step-line {
      display: none;
      padding: 10px;
      border-radius: 8px;
      background: #f7fbff;
      margin-top: 8px;
      border-left: 4px solid #d6eefc;
      font-family: 'Times New Roman', serif; /* Enhance math presentation */
      font-size: 1.1em;
      line-height: 1.5;
    }

    .next-step {
      margin-top: 8px;
      background: var(--primary);
      color: white;
      padding: 8px 10px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    input[type="text"] {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d9ecff;
      width: 100%;
      font-size: 15px;
    }
    input[type="number"] {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d9ecff;
      max-width: 100px;
      font-size: 15px;
    }

    .row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    button.check {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    .result {
      margin-top: 8px;
      padding: 10px;
      border-radius: 8px;
      display: none;
    }

    .result.good {
      background: #e6fff0;
      border-left: 4px solid #2fb46a;
    }

    .result.warn {
      background: #fff7e6;
      border-left: 4px solid #ffb74d;
    }

    .calm {
      margin-top: 14px;
      padding: 14px;
      border-radius: 10px;
      background: linear-gradient(180deg, #fff8f0, #f8ffff);
      text-align: center;
      border: 1px solid #e6f7ff;
    }

    .breath {
      width: 48px;
      height: 48px;
      background: #ffd08a;
      border-radius: 50%;
      margin: 12px auto;
      animation: breathe 4s infinite ease-in-out;
    }

    .wave {
      font-size: 36px;
      display: inline-block;
      animation: wavey 2.6s infinite;
    }

    .divider {
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      padding: 10px 14px;
      border-radius: 10px;
      margin: 18px 0;
      font-weight: 700;
      box-shadow: 0 6px 18px rgba(3, 102, 214, 0.08);
      text-align: center;
    }

    .small-note {
      font-size: 13px;
      color: var(--text-light);
      margin-top: 6px;
    }

    .motivate{
      background:linear-gradient(180deg,#fff,#fffaf6);
      border-radius:10px;
      padding:10px;
      border-left:6px solid var(--accent);
      margin-top:12px;
      display:flex;
      align-items:center;
      gap:12px
    }
    .motivate .emoji{font-size:24px}
    .motivate .text{font-weight:700;color:var(--primary);font-size:0.95rem}

    .try-yourself {
      background: #fffaf0;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      border: 1px dashed rgba(245,158,11,0.16);
    }

    .try-title {
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .example-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .example-box {
      background: var(--pastel-bg);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid rgba(30,64,175,0.04);
    }
    
    /* ===== Concept Explanation Box ===== */
    .concept-explained-box {
      background: #f0f7ff;
      border-radius: 14px;
      padding: 20px;
      margin: 25px 0;
      border: 2px solid rgba(30,64,175,0.08);
      display: flex;
      align-items: flex-start;
      gap: 16px;
      box-shadow: 0 8px 20px rgba(30,64,175,0.05);
      transition: all 0.3s ease;
    }
    .concept-explained-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(30,64,175,0.1);
    }
    .concept-explained-box .icon {
      font-size: 2.5rem;
      flex-shrink: 0;
      animation: float 4s ease-in-out infinite;
    }
    .concept-explained-box .content {
      flex: 1;
    }
    .concept-explained-box h3 {
      color: var(--primary);
      font-size: 1.3rem;
      margin-bottom: 8px;
      font-weight: 700;
    }
    .concept-explained-box p {
      color: var(--text-light);
      margin-bottom: 6px;
      line-height: 1.6;
    }

    /* ===== Graph Styles ===== */
    .graph-step {
      display: none;
      margin-top: 8px;
      padding: 12px;
      border-radius: 12px;
      background: linear-gradient(180deg,#ffffff,#fbfdff);
      border: 1px solid #e6f7ff;
      box-shadow: 0 6px 18px rgba(11,99,216,0.04);
    }
    .graph-step.active {
      display: block;
    }
    .graph-frame {
      max-width: 420px;
      margin: 10px auto;
      padding: 8px;
      border-radius: 12px;
      background: linear-gradient(180deg,#f7fbff,#ffffff);
      box-shadow: 0 8px 30px rgba(3,102,214,0.06);
      border: 1px solid rgba(11,99,216,0.06);
    }
    .graph-canvas {
      width: 100%;
      height: 300px;
      display: block;
      border-radius: 10px;
      background: transparent;
    }
    .graph-explanation {
      background: #f2fbff;
      border-left: 4px solid #cfeeff;
      padding: 10px;
      border-radius: 8px;
      font-size: 13px;
    }

    /* ===== Enhanced Concept Explanation ===== */
    .concept-explainer {
      background: linear-gradient(135deg, #f0f9ff, #e6f7ff);
      border-radius: 14px;
      padding: 20px;
      margin: 25px 0;
      border-left: 5px solid var(--primary);
      box-shadow: 0 8px 25px rgba(30, 64, 175, 0.08);
    }
    
    .concept-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      cursor: pointer;
    }
    
    .concept-header h3 {
      color: var(--primary);
      margin: 0;
      flex-grow: 1;
    }
    
    .concept-toggle {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .concept-toggle:hover {
      background: var(--primary-dark);
      transform: scale(1.1);
    }
    
    .concept-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .concept-content.active {
      display: block;
    }
    
    .concept-visual {
      display: flex;
      align-items: center;
      gap: 20px;
      margin: 15px 0;
    }
    
    .concept-visual .text {
      flex: 1;
    }
    
    .concept-visual .graph {
      flex: 1;
      min-height: 150px;
      background: var(--white);
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .concept-point {
      background: white;
      border-radius: 8px;
      padding: 12px 15px;
      margin: 10px 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      border-left: 3px solid var(--primary-light);
    }
    
    .concept-point h4 {
      color: var(--primary);
      margin-bottom: 5px;
      font-size: 1rem;
    }
    
    .concept-point p {
      margin: 0;
      font-size: 0.95rem;
    }

    /* ===== Enhanced Graph Styles ===== */
    .enhanced-graph {
      position: relative;
      width: 100%;
      height: 100%;
    }
    
    .graph-title {
      text-align: center;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 10px;
      font-size: 1rem;
    }
    
    .graph-legend {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.85rem;
    }
    
    .legend-color {
      width: 12px;
      height: 12px;
      border-radius: 2px;
    }
    
    .graph-controls {
      display: flex;
      gap: 10px;
      margin: 10px 0;
      justify-content: center;
    }
    
    .graph-btn {
      padding: 6px 12px;
      background: var(--primary-light);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.3s ease;
    }
    
    .graph-btn:hover {
      background: var(--primary);
    }

    /* ===== Footer ===== */
    .footer {
      background: linear-gradient(to bottom, var(--primary-dark), #0f172a);
      color: var(--white);
      padding: 80px 0 30px;
      position: relative;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 10px;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 40px;
      margin-bottom: 60px;
    }

    .footer-about {
      grid-column: span 2;
    }

    .footer-logo {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .footer-logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--white), var(--gray));
      color: var(--primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.2rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .footer-about p {
      opacity: 0.8;
      margin-bottom: 25px;
      line-height: 1.7;
    }

    .social-links {
      display: flex;
      gap: 15px;
    }

    .social-link {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      background: linear-gradient(135deg, var(--secondary), var(--accent));
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
    }

    .footer-links h3 {
      font-size: 1.2rem;
      margin-bottom: 25px;
      position: relative;
      padding-bottom: 10px;
      color: var(--white);
    }

    .footer-links h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background: linear-gradient(to right, var(--secondary), var(--accent));
    }

    .footer-links ul {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 12px;
    }

    .footer-links a {
      opacity: 0.8;
      transition: all 0.3s ease;
      position: relative;
      padding-left: 15px;
    }

    .footer-links a::before {
      content: '‚Üí';
      position: absolute;
      left: 0;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .footer-links a:hover {
      opacity: 1;
      padding-left: 20px;
    }

    .footer-links a:hover::before {
      opacity: 1;
      left: -5px;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-bottom p {
      opacity: 0.7;
      margin-bottom: 20px;
    }

    .footer-tags {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .tag {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 5px 15px;
      border-radius: 50px;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .tag:hover {
      background: linear-gradient(to right, var(--secondary), var(--accent));
      color: var(--text);
      transform: translateY(-2px);
    }

    /* ===== Floating Action Button ===== */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      box-shadow: 0 6px 15px rgba(30, 64, 175, 0.3);
      cursor: pointer;
      z-index: 999;
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }
    
    .fab:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 8px 20px rgba(30, 64, 175, 0.4);
    }
  </style>
</head>
<body>
<header id="header">
<div class="container">
<nav class="navbar">
<a class="logo" href="#">
<div class="logo-icon">S</div>
<span class="logo-text">Sentellect</span>
</a>
<ul class="nav-links" style="display:flex;justify-content:center;align-items:center;gap:40px;list-style:none;margin:0 auto;padding:0;">
<li><a class="active" href="#home">Home</a></li>
<li><a href="#circles-section">Circles</a></li>
<li><a href="#tangents-section">Tangents</a></li>
<li><a href="#ellipses-section">Ellipses</a></li>
<li><a href="#applications-section">Applications</a></li>
</ul>
<div class="auth-buttons" style="display:none;">
</div>
<button class="mobile-menu-btn" style="display:none;">
<i class="fas fa-bars"></i>
</button>
</nav>
</div>
</header>
<section class="hero">
<div class="particles">
<div class="particle" style="top: 20%; left: 5%; width: 10px; height: 10px; animation-delay: 0s;"></div>
<div class="particle" style="top: 60%; left: 15%; width: 15px; height: 15px; animation-delay: 1s;"></div>
<div class="particle" style="top: 30%; right: 10%; width: 12px; height: 12px; animation-delay: 2s;"></div>
<div class="particle" style="bottom: 20%; left: 20%; width: 8px; height: 8px; animation-delay: 3s;"></div>
<div class="particle" style="bottom: 40%; right: 15%; width: 14px; height: 14px; animation-delay: 4s;"></div>
</div>
<div class="floating-shape shape-1"></div>
<div class="floating-shape shape-2"></div>
<div class="floating-shape shape-3"></div>
<div class="container">
<div class="hero-content">
<h1 class="animate">Conic Sections ‚Äî <span>Chapter 6</span></h1>
<p class="animate delay-1">Master circles, tangents, ellipses, and conic sections with interactive examples and stress-free learning (FSc Part 2)</p>
<div class="hero-buttons">
<a class="btn btn-primary animate delay-2" href="#circles-section">Start Learning</a>
<a class="btn btn-secondary animate delay-3" href="#applications-section">Real Applications</a>
</div>
</div>
</div>
</section>
<div class="wrap container">
<div class="card animate" style="margin-top: 40px;">
<h1><i class="fas fa-book-open"></i> Chapter 6: Conic Sections</h1>
<p class="lead">We'll explore circles, tangents, normals, ellipses, and their real-world applications in a gentle, step-by-step approach.</p>
<div class="definition definition-content" style="display:block; border-left: 6px solid var(--secondary);">Based on FSc Part 2 Mathematics - Conic Sections.</div>
<div class="motivation">
<div class="motivation-icon">üöÄ</div>
<div style="flex-grow: 1;">
<div class="motivation-text">You're about to master beautiful geometric shapes and their properties!</div>
<div class="motivation-subtext">Every great mathematician started with these fundamentals</div>
</div>
</div>
<div class="calm">
<h4>üßò‚Äç‚ôÄÔ∏è Before We Begin üßò‚Äç‚ôÇÔ∏è</h4>
<p>Learning conic sections can be challenging, but remember to breathe and take breaks. You're building amazing geometric intuition!</p>
<div class="breath"></div>
<p>Take a deep breath with the circle above. Inhale as it expands, exhale as it contracts.</p>
</div>
</div>
<div class="divider" id="circles-section"><i class="fas fa-circle"></i> Circles</div>
<section class="card animate delay-1">
<h2><i class="fas fa-circle"></i> Understanding Circles</h2>
<p class="lead">Circles are the most fundamental conic section - all points equidistant from a center point.</p>
<div class="definition formula">
<b>Standard Form of Circle:</b> 
\[ (x - h)^2 + (y - k)^2 = r^2 \]
<br><b>General Form:</b> 
\[ x^2 + y^2 + 2gx + 2fy + c = 0 \]
</div>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-circles')">
    <h3>Understanding Circles</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-circles">
    <div class="concept-point">
      <h4>What is a Circle?</h4>
      <p>A circle is the set of all points in a plane that are equidistant from a fixed point called the center. The distance from the center to any point on the circle is called the radius.</p>
    </div>
    
    <div class="concept-point">
      <h4>Real-World Applications</h4>
      <p>‚Ä¢ Wheels: Circular shape allows smooth rolling motion</p>
      <p>‚Ä¢ Clocks: Circular face for time measurement</p>
      <p>‚Ä¢ Sports: Basketball hoops, soccer balls, running tracks</p>
      <p>‚Ä¢ Architecture: Domes, arches, circular windows</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>A circle is perfectly symmetrical around its center. Every point on the circle maintains the same distance (radius) from the center point.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Circle: (x-h)¬≤ + (y-k)¬≤ = r¬≤</div>
        <canvas id="concept-circles-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Circle</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #ec4899;"></div>
            <span>Center</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Center: The fixed point (h,k) from which all points are equidistant</p>
      <p>‚Ä¢ Radius: The constant distance r from center to any point on circle</p>
      <p>‚Ä¢ Diameter: Twice the radius, the longest distance across the circle</p>
      <p>‚Ä¢ Circumference: The distance around the circle (2œÄr)</p>
    </div>
  </div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">‚úèÔ∏è</div>
<div class="big">Example 1 ‚Äî Finding Center and Radius</div>
<div class="lead">Find center and radius of: x¬≤ + y¬≤ + 12x - 10y = 0</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('circle1')"><i class="fas fa-play"></i> Show Steps</button>
<button class="step-btn" onclick="toggleGraph('g_circle1')"><i class="fas fa-chart-line"></i> Show Graph</button>
</div>
<div class="step-block" id="circle1">
<div class="hidden"><b>Step 1:</b> Group x and y terms: (x¬≤ + 12x) + (y¬≤ - 10y) = 0</div>
<div class="hidden"><b>Step 2:</b> Complete the square for x: x¬≤ + 12x = (x + 6)¬≤ - 36</div>
<div class="hidden"><b>Step 3:</b> Complete the square for y: y¬≤ - 10y = (y - 5)¬≤ - 25</div>
<div class="hidden"><b>Step 4:</b> Substitute back: (x + 6)¬≤ - 36 + (y - 5)¬≤ - 25 = 0</div>
<div class="hidden"><b>Step 5:</b> Simplify: (x + 6)¬≤ + (y - 5)¬≤ = 61</div>
<div class="hidden"><b>Step 6:</b> Center = (-6, 5), Radius = ‚àö61</div>
</div>
<div class="graph-step" id="g_circle1">
<div class="graph-frame">
  <div class="enhanced-graph">
    <div class="graph-title">Circle: (x+6)¬≤ + (y-5)¬≤ = 61</div>
    <canvas class="graph-canvas" id="canvas-circle1"></canvas>
    <div class="graph-legend">
      <div class="legend-item">
        <div class="legend-color" style="background-color: #2b6cb0;"></div>
        <span>Circle</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #ec4899;"></div>
        <span>Center (-6,5)</span>
      </div>
    </div>
    <div class="graph-controls">
      <button class="graph-btn" onclick="zoomGraph('canvas-circle1', 1.2)">Zoom In</button>
      <button class="graph-btn" onclick="zoomGraph('canvas-circle1', 0.8)">Zoom Out</button>
      <button class="graph-btn" onclick="resetGraph('canvas-circle1')">Reset</button>
    </div>
  </div>
</div>
<div class="graph-explanation">The graph shows the circle with center at (-6,5) and radius ‚àö61. Notice how all points on the circle are equidistant from the center.</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üîç</div>
<div class="big">Example 2 ‚Äî Circle Through Three Points</div>
<div class="lead">Find circle through points A(4,5), B(-4,-3), C(8,-3)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('circle2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="circle2">
<div class="hidden"><b>Step 1:</b> General form: x¬≤ + y¬≤ + 2gx + 2fy + c = 0</div>
<div class="hidden"><b>Step 2:</b> For A(4,5): 16 + 25 + 8g + 10f + c = 0 ‚Üí 8g + 10f + c = -41</div>
<div class="hidden"><b>Step 3:</b> For B(-4,-3): 16 + 9 - 8g - 6f + c = 0 ‚Üí -8g - 6f + c = -25</div>
<div class="hidden"><b>Step 4:</b> For C(8,-3): 64 + 9 + 16g - 6f + c = 0 ‚Üí 16g - 6f + c = -73</div>
<div class="hidden"><b>Step 5:</b> Solve the system to get: g = -2, f = 1, c = -35</div>
<div class="hidden"><b>Step 6:</b> Equation: x¬≤ + y¬≤ - 4x + 2y - 35 = 0</div>
<div class="hidden"><b>Step 7:</b> Standard form: (x - 2)¬≤ + (y + 1)¬≤ = 40</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üéØ</div>
<div class="big">Example 3 ‚Äî Position of Point Relative to Circle</div>
<div class="lead">Determine if point (3,4) lies inside, on, or outside circle x¬≤ + y¬≤ = 25</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('circle3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="circle3">
<div class="hidden"><b>Step 1:</b> Substitute point into circle equation: 3¬≤ + 4¬≤ = 9 + 16 = 25</div>
<div class="hidden"><b>Step 2:</b> Compare with right side: 25 = 25</div>
<div class="hidden"><b>Step 3:</b> Since left side equals right side, point lies on the circle</div>
<div class="hidden"><b>Answer:</b> The point (3,4) lies exactly on the circle x¬≤ + y¬≤ = 25.</div>
</div>
</div>
</div>
<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Circles</div>
<p>1. Find center and radius of: x¬≤ + y¬≤ - 8x + 6y + 9 = 0</p>
<div class="row">
<input id="t_circle1" placeholder="e.g., (4,-3), 4"/>
<button class="check" onclick="checkTextMotivate('t_circle1','(4,-3), 4','t_circle1_res')">Check</button>
</div>
<div class="result" id="t_circle1_res"></div>
<p>2. For the circle x¬≤ + y¬≤ = 16, does point (1,1) lie inside or outside?</p>
<div class="row">
<input id="t_circle2" placeholder="Enter 'inside' or 'outside'"/>
<button class="check" onclick="checkTextMotivate('t_circle2','inside','t_circle2_res')">Check</button>
</div>
<div class="result" id="t_circle2_res"></div>
</div>
<div class="motivate" style="margin-top:14px">
<div class="emoji">‚≠ïüíñ</div>
<div class="text" style="color:var(--accent);">Great job understanding circles and their equations!</div>
</div>
</section>
<div class="divider" id="tangents-section"><i class="fas fa-ruler-combined"></i> Tangents and Normals</div>
<section class="card animate delay-2">
<h2><i class="fas fa-angle"></i> Tangents and Normals to Circles</h2>
<p class="lead">Learn about tangent lines that touch circles at exactly one point, and normal lines perpendicular to tangents.</p>
<div class="definition formula">
<b>Tangent at point (x‚ÇÅ, y‚ÇÅ) on circle x¬≤ + y¬≤ = r¬≤:</b> 
\[ xx‚ÇÅ + yy‚ÇÅ = r¬≤ \]
<br><b>Normal at point (x‚ÇÅ, y‚ÇÅ):</b> Passes through center and point of tangency
</div>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-tangents')">
    <h3>Understanding Tangents and Normals</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-tangents">
    <div class="concept-point">
      <h4>What is a Tangent?</h4>
      <p>A tangent is a straight line that touches a circle at exactly one point. This point is called the point of tangency. The tangent is perpendicular to the radius at the point of tangency.</p>
    </div>
    
    <div class="concept-point">
      <h4>What is a Normal?</h4>
      <p>A normal is a line perpendicular to the tangent at the point of tangency. For circles, the normal always passes through the center of the circle.</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visualizing Tangents and Normals</h4>
        <p>Imagine a wheel on the ground. The ground is tangent to the wheel, touching it at exactly one point. The spoke of the wheel at that point is the normal.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Tangent and Normal</div>
        <canvas id="concept-tangents-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Circle</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #16a085;"></div>
            <span>Tangent</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #ec4899;"></div>
            <span>Normal</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Tangent touches circle at exactly one point</p>
      <p>‚Ä¢ Tangent is perpendicular to radius at point of tangency</p>
      <p>‚Ä¢ Normal passes through center and point of tangency</p>
      <p>‚Ä¢ From external point, two tangents can be drawn to a circle</p>
    </div>
  </div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">üìè</div>
<div class="big">Example 1 ‚Äî Tangent and Normal</div>
<div class="lead">Find tangent and normal to x¬≤ + y¬≤ = 25 at (4,3)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('tangent1')"><i class="fas fa-play"></i> Show Steps</button>
<button class="step-btn" onclick="toggleGraph('g_tangent1')"><i class="fas fa-chart-line"></i> Show Graph</button>
</div>
<div class="step-block" id="tangent1">
<div class="hidden"><b>Step 1:</b> Verify point lies on circle: 4¬≤ + 3¬≤ = 16 + 9 = 25 ‚úì</div>
<div class="hidden"><b>Step 2:</b> Equation of tangent: xx‚ÇÅ + yy‚ÇÅ = r¬≤ ‚Üí 4x + 3y = 25</div>
<div class="hidden"><b>Step 3:</b> Slope of tangent: From 4x + 3y = 25 ‚Üí y = (-4/3)x + 25/3, slope = -4/3</div>
<div class="hidden"><b>Step 4:</b> Slope of radius: From center (0,0) to (4,3) ‚Üí slope = 3/4</div>
<div class="hidden"><b>Step 5:</b> Slope of normal = negative reciprocal of tangent slope = 3/4</div>
<div class="hidden"><b>Step 6:</b> Equation of normal: y - 3 = (3/4)(x - 4) ‚Üí 3x - 4y = 0</div>
</div>
<div class="graph-step" id="g_tangent1">
<div class="graph-frame">
  <div class="enhanced-graph">
    <div class="graph-title">Tangent and Normal to Circle</div>
    <canvas class="graph-canvas" id="canvas-tangent1"></canvas>
    <div class="graph-legend">
      <div class="legend-item">
        <div class="legend-color" style="background-color: #2b6cb0;"></div>
        <span>Circle</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #16a085;"></div>
        <span>Tangent</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #ec4899;"></div>
        <span>Normal</span>
      </div>
    </div>
    <div class="graph-controls">
      <button class="graph-btn" onclick="zoomGraph('canvas-tangent1', 1.2)">Zoom In</button>
      <button class="graph-btn" onclick="zoomGraph('canvas-tangent1', 0.8)">Zoom Out</button>
      <button class="graph-btn" onclick="resetGraph('canvas-tangent1')">Reset</button>
    </div>
  </div>
</div>
<div class="graph-explanation">The graph shows the circle with the tangent and normal at point (4,3). Notice how the tangent touches the circle at exactly one point, and the normal passes through the center.</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üí°</div>
<div class="big">Example 2 ‚Äî Tangent from External Point</div>
<div class="lead">Find tangents from point (5,0) to circle x¬≤ + y¬≤ = 9</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('tangent2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="tangent2">
<div class="hidden"><b>Step 1:</b> Let tangent be y = m(x - 5)</div>
<div class="hidden"><b>Step 2:</b> Substitute into circle: x¬≤ + [m(x-5)]¬≤ = 9</div>
<div class="hidden"><b>Step 3:</b> Expand: x¬≤ + m¬≤(x¬≤ - 10x + 25) = 9</div>
<div class="hidden"><b>Step 4:</b> For tangency, discriminant = 0: (10m¬≤)¬≤ - 4(1+m¬≤)(25m¬≤-9) = 0</div>
<div class="hidden"><b>Step 5:</b> Solve: 100m‚Å¥ - 4(25m¬≤ - 9 + 25m‚Å¥ - 9m¬≤) = 0</div>
<div class="hidden"><b>Step 6:</b> Simplify: 100m‚Å¥ - 100m‚Å¥ + 36m¬≤ + 36 - 36m¬≤ = 0 ‚Üí 36 = 0? Wait, let's recalculate...</div>
<div class="hidden"><b>Step 7:</b> Actually, simpler method: length of tangent = ‚àö(5¬≤ - 3¬≤) = ‚àö16 = 4</div>
<div class="hidden"><b>Step 8:</b> Points of tangency satisfy both equations, giving slopes m = ¬±3/4</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üî±</div>
<div class="big">Example 3 ‚Äî Real-World Application</div>
<div class="lead">A circular fountain has radius 5m. Find where a straight path should touch it if starting from point (8,0)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('tangent3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="tangent3">
<div class="hidden"><b>Step 1:</b> Circle: x¬≤ + y¬≤ = 25, External point: (8,0)</div>
<div class="hidden"><b>Step 2:</b> Length of tangent = ‚àö(8¬≤ - 5¬≤) = ‚àö(64-25) = ‚àö39 ‚âà 6.24m</div>
<div class="hidden"><b>Step 3:</b> Points of tangency can be found using similar method as Example 2</div>
<div class="hidden"><b>Answer:</b> The path will be tangent to the fountain at two points, each about 6.24m from the starting point.</div>
</div>
</div>
</div>
<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Tangents</div>
<p>1. What is the tangent to x¬≤ + y¬≤ = 10 at (3,1)?</p>
<div class="row">
<input id="t_tangent1" placeholder="Type equation"/>
<button class="check" onclick="checkTextMotivate('t_tangent1','3x+y=10','t_tangent1_res')">Check</button>
</div>
<div class="result" id="t_tangent1_res"></div>
<p>2. The normal to a circle always passes through _____</p>
<div class="row">
<input id="t_tangent2" placeholder="Type your answer"/>
<button class="check" onclick="checkTextMotivate('t_tangent2','the center','t_tangent2_res')">Check</button>
</div>
<div class="result" id="t_tangent2_res"></div>
</div>
<div class="motivate" style="margin-top:14px">
<div class="emoji">üìêüéØ</div>
<div class="text" style="color:var(--success);">You're becoming a tangent expert! Understanding these relationships is key to geometry.</div>
</div>
</section>
<div class="divider" id="ellipses-section"><i class="fas fa-egg"></i> Ellipses</div>
<section class="card animate delay-3">
<h2><i class="fas fa-egg"></i> Understanding Ellipses</h2>
<p class="lead">Ellipses are oval-shaped curves with two focal points. The sum of distances from any point on the ellipse to the two foci is constant.</p>
<div class="definition formula">
<b>Standard Form of Ellipse:</b>
<br>Horizontal major axis: \[ \frac{x^2}{a^2} + \frac{y^2}{b^2} = 1 \]
<br>Vertical major axis: \[ \frac{x^2}{b^2} + \frac{y^2}{a^2} = 1 \]
<br>Where a > b > 0, and foci are at distance c from center with \( c^2 = a^2 - b^2 \)
</div>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-ellipses')">
    <h3>Understanding Ellipses</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-ellipses">
    <div class="concept-point">
      <h4>What is an Ellipse?</h4>
      <p>An ellipse is the set of all points for which the sum of the distances to two fixed points (called foci) is constant. It's like a stretched circle with two center points instead of one.</p>
    </div>
    
    <div class="concept-point">
      <h4>Real-World Applications</h4>
      <p>‚Ä¢ Planetary orbits: Planets orbit the sun in elliptical paths with the sun at one focus</p>
      <p>‚Ä¢ Architecture: Elliptical arches and domes for strength and aesthetics</p>
      <p>‚Ä¢ Sports: Elliptical tracks and fields</p>
      <p>‚Ä¢ Engineering: Elliptical gears for special mechanical movements</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Visual Representation</h4>
        <p>An ellipse has a major axis (longest diameter) and minor axis (shortest diameter). The foci lie on the major axis, and the sum of distances from any point on the ellipse to both foci equals the length of the major axis.</p>
      </div>
      <div class="graph">
        <div class="graph-title">Ellipse: x¬≤/a¬≤ + y¬≤/b¬≤ = 1</div>
        <canvas id="concept-ellipses-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Ellipse</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #ec4899;"></div>
            <span>Foci</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="concept-point">
      <h4>Key Properties</h4>
      <p>‚Ä¢ Center: Midpoint between foci</p>
      <p>‚Ä¢ Major axis: Longest diameter through foci</p>
      <p>‚Ä¢ Minor axis: Shortest diameter perpendicular to major axis</p>
      <p>‚Ä¢ Foci: Two fixed points inside ellipse</p>
      <p>‚Ä¢ Eccentricity: Ratio c/a (0 < e < 1), measures how "stretched" the ellipse is</p>
    </div>
  </div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">‚úèÔ∏è</div>
<div class="big">Example 1 ‚Äî Finding Ellipse Elements</div>
<div class="lead">Find center, foci, vertices and eccentricity of \(\frac{x^2}{16} + \frac{y^2}{9} = 1\)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('ellipse1')"><i class="fas fa-play"></i> Show Steps</button>
<button class="step-btn" onclick="toggleGraph('g_ellipse1')"><i class="fas fa-chart-line"></i> Show Graph</button>
</div>
<div class="step-block" id="ellipse1">
<div class="hidden"><b>Step 1:</b> Compare with standard form \(\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1\)</div>
<div class="hidden"><b>Step 2:</b> \(a^2 = 16\) ‚Üí \(a = 4\), \(b^2 = 9\) ‚Üí \(b = 3\)</div>
<div class="hidden"><b>Step 3:</b> Center = (0, 0)</div>
<div class="hidden"><b>Step 4:</b> \(c^2 = a^2 - b^2 = 16 - 9 = 7\) ‚Üí \(c = \sqrt{7}\)</div>
<div class="hidden"><b>Step 5:</b> Foci = (¬±‚àö7, 0)</div>
<div class="hidden"><b>Step 6:</b> Vertices = (¬±4, 0)</div>
<div class="hidden"><b>Step 7:</b> Eccentricity \(e = \frac{c}{a} = \frac{\sqrt{7}}{4}\)</div>
</div>
<div class="graph-step" id="g_ellipse1">
<div class="graph-frame">
  <div class="enhanced-graph">
    <div class="graph-title">Ellipse: x¬≤/16 + y¬≤/9 = 1</div>
    <canvas class="graph-canvas" id="canvas-ellipse1"></canvas>
    <div class="graph-legend">
      <div class="legend-item">
        <div class="legend-color" style="background-color: #2b6cb0;"></div>
        <span>Ellipse</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #ec4899;"></div>
        <span>Foci (¬±‚àö7,0)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background-color: #16a085;"></div>
        <span>Vertices (¬±4,0)</span>
      </div>
    </div>
    <div class="graph-controls">
      <button class="graph-btn" onclick="zoomGraph('canvas-ellipse1', 1.2)">Zoom In</button>
      <button class="graph-btn" onclick="zoomGraph('canvas-ellipse1', 0.8)">Zoom Out</button>
      <button class="graph-btn" onclick="resetGraph('canvas-ellipse1')">Reset</button>
    </div>
  </div>
</div>
<div class="graph-explanation">The graph shows the ellipse with its foci and vertices. Notice how the ellipse is wider than it is tall, with the major axis along the x-axis.</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üîç</div>
<div class="big">Example 2 ‚Äî Vertical Major Axis</div>
<div class="lead">Find elements of \(\frac{x^2}{9} + \frac{y^2}{25} = 1\)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('ellipse2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="ellipse2">
<div class="hidden"><b>Step 1:</b> Compare with standard form \(\frac{x^2}{b^2} + \frac{y^2}{a^2} = 1\) (since a¬≤ > b¬≤)</div>
<div class="hidden"><b>Step 2:</b> \(a^2 = 25\) ‚Üí \(a = 5\), \(b^2 = 9\) ‚Üí \(b = 3\)</div>
<div class="hidden"><b>Step 3:</b> Center = (0, 0)</div>
<div class="hidden"><b>Step 4:</b> \(c^2 = a^2 - b^2 = 25 - 9 = 16\) ‚Üí \(c = 4\)</div>
<div class="hidden"><b>Step 5:</b> Foci = (0, ¬±4)</div>
<div class="hidden"><b>Step 6:</b> Vertices = (0, ¬±5)</div>
<div class="hidden"><b>Step 7:</b> Eccentricity \(e = \frac{c}{a} = \frac{4}{5}\)</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üéØ</div>
<div class="big">Example 3 ‚Äî Writing Ellipse Equation</div>
<div class="lead">Write equation with foci (¬±3, 0) and vertices (¬±5, 0)</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('ellipse3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="ellipse3">
<div class="hidden"><b>Step 1:</b> Foci are horizontal, so major axis is horizontal</div>
<div class="hidden"><b>Step 2:</b> Center is midpoint between foci: (0, 0)</div>
<div class="hidden"><b>Step 3:</b> Distance from center to focus: c = 3</div>
<div class="hidden"><b>Step 4:</b> Distance from center to vertex: a = 5</div>
<div class="hidden"><b>Step 5:</b> Find b using \(c^2 = a^2 - b^2\)</div>
<div class="hidden"><b>Step 6:</b> \(9 = 25 - b^2\) ‚Üí \(b^2 = 16\) ‚Üí \(b = 4\)</div>
<div class="hidden"><b>Step 7:</b> Equation: \(\frac{x^2}{25} + \frac{y^2}{16} = 1\)</div>
</div>
</div>
</div>
<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Ellipses</div>
<p>1. For ellipse \(\frac{x^2}{25} + \frac{y^2}{16} = 1\), what are the foci?</p>
<div class="row">
<input id="t_ellipse1" placeholder="Type coordinates (¬±x,y)"/>
<button class="check" onclick="checkTextMotivate('t_ellipse1','(¬±3,0)','t_ellipse1_res')">Check</button>
</div>
<div class="result" id="t_ellipse1_res"></div>
<p>2. For ellipse \(\frac{x^2}{9} + \frac{y^2}{36} = 1\), what is the eccentricity?</p>
<div class="row">
<input id="t_ellipse2" placeholder="Type value"/>
<button class="check" onclick="checkTextMotivate('t_ellipse2','‚àö3/2','t_ellipse2_res')">Check</button>
</div>
<div class="result" id="t_ellipse2_res"></div>
</div>
<div class="motivate" style="margin-top:14px">
<div class="emoji">üîÑüéØ</div>
<div class="text" style="color:var(--secondary);">Excellent! You've mastered ellipses and their properties!</div>
</div>
</section>
<div class="divider" id="applications-section"><i class="fas fa-chart-area"></i> Applications</div>
<section class="card animate delay-4">
<h2><i class="fas fa-balance-scale"></i> Real-World Applications</h2>
<p class="lead">Explore how conic sections appear in astronomy, engineering, architecture, and everyday life.</p>
<div class="definition formula">
<b>Conic Sections in Real Life:</b>
1. <b>Circles:</b> Wheels, clocks, plates, coins<br>
2. <b>Ellipses:</b> Planetary orbits, elliptical arches, racetracks<br>
3. <b>Parabolas:</b> Satellite dishes, headlights, suspension bridges<br>
4. <b>Hyperbolas:</b> Cooling towers, sonic booms, navigation systems
</div>

<!-- Enhanced Concept Explanation -->
<div class="concept-explainer">
  <div class="concept-header" onclick="toggleConcept('concept-applications')">
    <h3>Real-World Applications of Conic Sections</h3>
    <button class="concept-toggle">+</button>
  </div>
  <div class="concept-content" id="concept-applications">
    <div class="concept-point">
      <h4>Why Study Conic Sections?</h4>
      <p>Conic sections aren't just abstract mathematical concepts - they appear everywhere in our world! Understanding them helps us design better structures, navigate space, and create efficient technologies.</p>
    </div>
    
    <div class="concept-point">
      <h4>Astronomy and Space</h4>
      <p>‚Ä¢ Planetary orbits are elliptical with the sun at one focus (Kepler's First Law)</p>
      <p>‚Ä¢ Satellite dishes use parabolic shapes to focus signals</p>
      <p>‚Ä¢ Telescope mirrors are often parabolic to focus light</p>
    </div>
    
    <div class="concept-visual">
      <div class="text">
        <h4>Architecture and Engineering</h4>
        <p>‚Ä¢ Elliptical arches distribute weight efficiently in bridges and buildings</p>
        <p>‚Ä¢ Parabolic arches are used in suspension bridges</p>
        <p>‚Ä¢ Circular designs appear in domes, rotundas, and round buildings</p>
        <p>‚Ä¢ Hyperbolic cooling towers are structurally efficient for large structures</p>
      </div>
      <div class="graph">
        <div class="graph-title">Planetary Orbit</div>
        <canvas id="concept-applications-graph" width="300" height="150"></canvas>
        <div class="graph-legend">
          <div class="legend-item">
            <div class="legend-color" style="background-color: #2b6cb0;"></div>
            <span>Elliptical Orbit</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background-color: #ec4899;"></div>
            <span>Sun at Focus</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="example-container">
<div class="example-box">
<div class="example-icon">ü™ê</div>
<div class="big">Example 1 ‚Äî Planetary Orbits</div>
<div class="lead">A planet orbits the sun with minimum distance 17 million miles and maximum distance 183 million miles. Find ellipse equation.</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('app1')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="app1">
<div class="hidden"><b>Step 1:</b> Minimum distance = a - c = 17</div>
<div class="hidden"><b>Step 2:</b> Maximum distance = a + c = 183</div>
<div class="hidden"><b>Step 3:</b> Add equations: 2a = 200 ‚Üí a = 100</div>
<div class="hidden"><b>Step 4:</b> Subtract: 2c = 166 ‚Üí c = 83</div>
<div class="hidden"><b>Step 5:</b> \(b^2 = a^2 - c^2 = 10000 - 6889 = 3111\)</div>
<div class="hidden"><b>Step 6:</b> Equation: \(\frac{x^2}{10000} + \frac{y^2}{3111} = 1\)</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üèõÔ∏è</div>
<div class="big">Example 2 ‚Äî Elliptical Arch</div>
<div class="lead">An elliptical arch is 90m wide at base and 30m high at center. Find equation and height at 15m from center.</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('app2')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="app2">
<div class="hidden"><b>Step 1:</b> Place coordinate system with center at (0,0)</div>
<div class="hidden"><b>Step 2:</b> Width = 90m ‚Üí semi-major axis a = 45</div>
<div class="hidden"><b>Step 3:</b> Height = 30m ‚Üí semi-minor axis b = 30</div>
<div class="hidden"><b>Step 4:</b> Equation: \(\frac{x^2}{2025} + \frac{y^2}{900} = 1\)</div>
<div class="hidden"><b>Step 5:</b> At x = 15, find y: \(\frac{225}{2025} + \frac{y^2}{900} = 1\)</div>
<div class="hidden"><b>Step 6:</b> \(\frac{y^2}{900} = 1 - \frac{1}{9} = \frac{8}{9}\) ‚Üí \(y^2 = 800\) ‚Üí \(y = 20\sqrt{2} ‚âà 28.28m\)</div>
</div>
</div>
<div class="example-box">
<div class="example-icon">üì°</div>
<div class="big">Example 3 ‚Äî Satellite Dish</div>
<div class="lead">A satellite dish has parabolic shape. If focus is 2m from vertex and dish is 6m wide, find equation.</div>
<div class="controls">
<button class="step-btn" onclick="startSteps('app3')"><i class="fas fa-play"></i> Show Steps</button>
</div>
<div class="step-block" id="app3">
<div class="hidden"><b>Step 1:</b> For parabola with vertex at origin and vertical axis: \(x^2 = 4ay\)</div>
<div class="hidden"><b>Step 2:</b> Focus is at (0,a), so a = 2</div>
<div class="hidden"><b>Step 3:</b> Equation: \(x^2 = 8y\)</div>
<div class="hidden"><b>Step 4:</b> Dish is 6m wide, so at y = ? we have x = ¬±3</div>
<div class="hidden"><b>Step 5:</b> \(9 = 8y\) ‚Üí \(y = 9/8 = 1.125m\)</div>
<div class="hidden"><b>Answer:</b> The dish has equation \(x^2 = 8y\) and is 1.125m deep at the edges.</div>
</div>
</div>
</div>
<div class="try-yourself">
<div class="try-title"><i class="fas fa-pencil-alt"></i> Try It Yourself: Applications</div>
<p>1. For an ellipse with foci (¬±4,0) and vertices (¬±6,0), what is the equation?</p>
<div class="row">
<input id="t_app1" placeholder="Type equation"/>
<button class="check" onclick="checkTextMotivate('t_app1','x¬≤/36 + y¬≤/20 = 1','t_app1_res')">Check</button>
</div>
<div class="result" id="t_app1_res"></div>
<p>2. What is the eccentricity of an ellipse with a=10 and b=6?</p>
<div class="row">
<input id="t_app2" placeholder="Type value"/>
<button class="check" onclick="checkTextMotivate('t_app2','4/5','t_app2_res')">Check</button>
</div>
<div class="result" id="t_app2_res"></div>
</div>
<div class="motivate" style="margin-top:14px">
<div class="emoji">üèóÔ∏èüèÜ</div>
<div class="text" style="color:var(--primary);">Incredible work on conic sections! You're learning powerful mathematical concepts with real-world applications!</div>
</div>
</section>
<div class="motivation" style="margin-top:40px; padding: 18px; text-align: center; display: block; border-left: 6px solid var(--accent);">
<div class="motivation-icon">üéì</div>
<div class="motivation-text">You've completed Chapter 6 in this simplified style!</div>
<div class="motivation-subtext">Remember, understanding the geometric intuition is the most important part of mastering conic sections.</div>
</div>
</div>
<div style="margin: 50px 0; text-align: center; padding: 30px; background: #f0fdf4; border: 2px dashed #10b981; border-radius: 12px;">
    <h3 style="color: #047857; margin-bottom: 10px;">Module Complete?</h3>
    <p style="color: #065f46; margin-bottom: 20px;">Test your understanding of Conic Sections to unlock the next step.</p>
    
    <a href="{{ url_for('serve_quiz', chapter_num=6) }}" class="btn btn-primary" style="background-color: #10b981; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); padding: 15px 40px; font-size: 1.1rem;">
        Take Chapter 6 Quiz <i class="fas fa-arrow-right"></i>
    </a>
</div>
<div class="fab">
<i class="fas fa-book-open"></i>
</div>
<footer class="footer">
<div class="container">
<div class="footer-content">
<div class="footer-about">
<div class="footer-logo">
<div class="footer-logo-icon">S</div>
            Sentellect
          </div>
<p>Personalizing learning through emotions to improve educational experience for HSSC Mathematics.</p>
<div class="social-links">
<a class="social-link" href="#"><i class="fab fa-facebook-f"></i></a>
<a class="social-link" href="#"><i class="fab fa-twitter"></i></a>
<a class="social-link" href="#"><i class="fab fa-instagram"></i></a>
<a class="social-link" href="#"><i class="fab fa-linkedin-in"></i></a>
</div>
</div>
<div class="footer-links">
<h3>Platform</h3>
<ul>
<li><a href="#circles-section">Circles</a></li>
<li><a href="#tangents-section">Tangents & Normals</a></li>
<li><a href="#ellipses-section">Ellipses</a></li>
<li><a href="#applications-section">Applications</a></li>
</ul>
</div>
<div class="footer-links">
<h3>Resources</h3>
<ul>
<li><a href="#">Study Materials</a></li>
<li><a href="#">About Project</a></li>
<li><a href="#">Contact</a></li>
<li><a href="#">Support</a></li>
</ul>
</div>
<div class="footer-links">
<h3>Account</h3>
<ul>
<li><a href="#">Your Account</a></li>
<li><a href="#">Help Center</a></li>
<li><a href="#">Contact Us</a></li>
<li><a href="#">Privacy Policy</a></li>
<li><a href="#">Terms &amp; Conditions</a></li>
</ul>
</div>
</div>
<div class="footer-bottom">
<p>¬© 2025 Sentellect. Final Year Project - Educational Technology.</p>
<div class="footer-tags">
<a class="tag" href="#">PTB HSSC Mathematics</a>
<a class="tag" href="#">Emotion-Aware Learning</a>
<a class="tag" href="#">Conic Sections</a>
</div>
</div>
</div>
</footer>
<script>
    // --- JavaScript Functions ---
    
    // Header scroll effect
    window.addEventListener('scroll', function() {
      const header = document.getElementById('header');
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    // Animation on scroll
    document.addEventListener('DOMContentLoaded', function() {
      const animateElements = document.querySelectorAll('.animate');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const delay = entry.target.classList.contains('delay-1') ? 0.2 : 
                         entry.target.classList.contains('delay-2') ? 0.4 :
                         entry.target.classList.contains('delay-3') ? 0.6 : 
                         entry.target.classList.contains('delay-4') ? 0.8 : 0;
            
            setTimeout(() => {
              entry.target.style.opacity = 1;
              entry.target.style.transform = 'translateY(0)';
            }, delay * 1000);
          }
        });
      }, { threshold: 0.1 });
      
      animateElements.forEach(element => {
        element.style.opacity = 0;
        element.style.transform = 'translateY(20px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(element);
      });
      
      // Create floating particles for hero section
      createParticles();
      
      // Initialize step blocks
      initStepBlocks();
      
      // Initialize all graphs
      initializeGraphs();
      
      // Draw concept explanation graphs
      drawConceptGraphs();
    });
    
    // Create particles function
    function createParticles() {
      const particlesContainer = document.querySelector('.particles');
      if (!particlesContainer) return;
      for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        const size = Math.random() * 10 + 5;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 5;
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.animationDelay = `${delay}s`;
        
        particlesContainer.appendChild(particle);
      }
    }
    
    // Initialize step-blocks
    function initStepBlocks(){
        document.querySelectorAll('.step-block').forEach(block=>{
            // Hide all steps initially
            Array.from(block.querySelectorAll('.hidden')).forEach(h => h.style.display = 'none');
            
            // Re-wire step buttons to use startSteps/nextStep logic
            const controls = block.closest('.example-box').querySelector('.controls');
            let initialStepBtn = controls.querySelector('.step-btn');

            // If an initial step button exists, give it a block-specific ID for tracking
            if (initialStepBtn) {
                initialStepBtn.id = `start-${block.id}`;
            }

            // Ensure the start button is available and clickable
            initialStepBtn.onclick = function() {
                // Remove all step buttons after first click and replace with 'Next Step' button logic
                controls.innerHTML = '';
                const nextBtn = document.createElement('button');
                nextBtn.className = 'step-btn';
                nextBtn.innerHTML = '<i class="fas fa-forward"></i> Next Step';
                nextBtn.onclick = () => nextStep(block.id);
                controls.appendChild(nextBtn);
                
                // Show the first step
                const steps = document.querySelectorAll(`#${block.id} .hidden`);
                if (steps[0]) steps[0].style.display = 'block';
                block.currentStep = 0;
                
                // If only one step exists, hide the next button
                if (steps.length <= 1) nextBtn.style.display = 'none';
            };
        });
    }

    // Show next step
    function nextStep(id) {
        const block = document.getElementById(id);
        if (!block) return;
        
        const steps = Array.from(block.querySelectorAll('.hidden'));
        const controls = block.closest('.example-box').querySelector('.controls');
        const nextBtn = controls.querySelector('.step-btn');
        
        block.currentStep = (block.currentStep || 0) + 1;
        
        if (block.currentStep < steps.length) {
            steps[block.currentStep].style.display = 'block';
            if (block.currentStep === steps.length - 1) {
                if (nextBtn) nextBtn.style.display = 'none';
            }
        } else {
            if (nextBtn) nextBtn.style.display = 'none';
        }
    }
    
    // Toggle concept explanations
    function toggleConcept(id) {
        const content = document.getElementById(id);
        const toggleBtn = content.previousElementSibling.querySelector('.concept-toggle');
        
        if (content.classList.contains('active')) {
            content.classList.remove('active');
            toggleBtn.textContent = '+';
        } else {
            content.classList.add('active');
            toggleBtn.textContent = '‚àí';
        }
    }
    
    // Check text input answers with motivational feedback
    function checkTextMotivate(inputId, correct, resultId) {
      // Normalize answer for simple checking (remove spaces, parentheses, commas, equals)
      const userAns = document.getElementById(inputId).value.trim().toLowerCase().replace(/[\s\(\),=]/g, '');
      const resultEl = document.getElementById(resultId);
      // Normalize correct answer 
      const correctAns = correct.trim().toLowerCase().replace(/[\s\(\),=]/g, '');
      
      const motivationalMessages = [
        "Great job! You're getting it!",
        "Excellent work! Keep it up!",
        "Perfect! You're mastering this!",
        "Well done! You're on the right track!",
        "Correct! You're doing amazing!"
      ];
      
      const tryAgainMessages = [
        "Almost! Try again with a fresh perspective.",
        "Not quite, but you're close! Try once more.",
        "Good attempt! Let's try that again.",
        "Not exactly, but you're learning! Try again.",
        "Almost there! Give it another shot."
      ];
      
      const randomGood = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)];
      const randomTry = tryAgainMessages[Math.floor(Math.random() * tryAgainMessages.length)];

      if (userAns === correctAns) {
        resultEl.innerHTML = `‚úÖ ${randomGood}`;
        resultEl.className = "result good";
      } else {
        resultEl.innerHTML = `‚ùå ${randomTry} <br><small>Hint: check your calculation carefully.</small>`;
        resultEl.className = "result warn";
      }
      resultEl.style.display = "block";
    }

    // Toggle graph visibility
    function toggleGraph(id) {
        const graph = document.getElementById(id);
        if (!graph) return;
        
        // Close all graphs in the same card
        graph.closest('.example-box').querySelectorAll('.graph-step').forEach(g => {
            g.classList.remove('active');
        });
        
        // Toggle the clicked graph
        graph.classList.toggle('active');
        
        // If opening, draw the graph
        if (graph.classList.contains('active')) {
            const canvas = graph.querySelector('canvas');
            if (canvas) {
                setTimeout(() => drawExampleCanvas(canvas.id), 50);
            }
        }
    }

    // Initialize all graphs
    function initializeGraphs() {
        // Hide all graphs initially
        document.querySelectorAll('.graph-step').forEach(graph => {
            graph.classList.remove('active');
        });
    }

    // Graph drawing utilities
    function prepareCanvas(id) {
        const c = document.getElementById(id);
        if (!c) return null;
        const rect = c.getBoundingClientRect();
        c.width = rect.width;
        c.height = rect.height;
        const ctx = c.getContext('2d');
        return {ctx, width: c.width, height: c.height};
    }
    
    function plotLine(ctx, W, H, scale, a, b, c, color, originX, originY, dashed = false) {
        ctx.strokeStyle = color; 
        ctx.lineWidth = 3;
        if (dashed) {
            ctx.setLineDash([5, 5]);
        } else {
            ctx.setLineDash([]);
        }
        ctx.beginPath();
        const lineXMin = -W / (2 * scale) - 1, lineXMax = W / (2 * scale) + 1;

        if (Math.abs(b) > 1e-6) {
            const y1 = (-a * lineXMin - c) / b;
            const y2 = (-a * lineXMax - c) / b;
            ctx.moveTo(originX + lineXMin * scale, originY - y1 * scale);
            ctx.lineTo(originX + lineXMax * scale, originY - y2 * scale);
        } else if (Math.abs(a) > 1e-6) {
            const xv = -c / a;
            ctx.moveTo(originX + xv * scale, 0);
            ctx.lineTo(originX + xv * scale, H);
        }
        ctx.stroke();
        ctx.setLineDash([]);
    }
    
    function plotPoint(ctx, x, y, color, label, originX, originY, scale) {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(originX + x * scale, originY - y * scale, 6, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#072b4b';
        ctx.font = '600 12px Segoe UI';
        ctx.fillText(label, originX + x * scale + 8, originY - y * scale - 6);
    }
    
    function drawGrid(ctx, W, H, scale, originX, originY) {
        // Draw grid lines
        ctx.strokeStyle = '#e2e8f0';
        ctx.lineWidth = 1;
        
        // Vertical grid lines
        for (let x = -Math.floor(W/(2*scale)); x <= Math.floor(W/(2*scale)); x++) {
            if (x === 0) continue; // Skip the y-axis
            ctx.beginPath();
            ctx.moveTo(originX + x * scale, 0);
            ctx.lineTo(originX + x * scale, H);
            ctx.stroke();
        }
        
        // Horizontal grid lines
        for (let y = -Math.floor(H/(2*scale)); y <= Math.floor(H/(2*scale)); y++) {
            if (y === 0) continue; // Skip the x-axis
            ctx.beginPath();
            ctx.moveTo(0, originY + y * scale);
            ctx.lineTo(W, originY + y * scale);
            ctx.stroke();
        }
        
        // Draw axes
        ctx.strokeStyle = '#9dc2e8'; 
        ctx.lineWidth = 2;
        ctx.beginPath(); 
        ctx.moveTo(0, originY); 
        ctx.lineTo(W, originY); 
        ctx.stroke();
        ctx.beginPath(); 
        ctx.moveTo(originX, 0); 
        ctx.lineTo(originX, H); 
        ctx.stroke();
        
        // Add axis labels
        ctx.fillStyle = '#64748b';
        ctx.font = '12px Segoe UI';
        ctx.fillText('x', W - 10, originY - 5);
        ctx.fillText('y', originX + 5, 15);
    }
    
    function fillRegion(ctx, W, H, scale, testFunc, color, originX, originY) {
        ctx.fillStyle = color;
        for (let x = -W/(2*scale); x <= W/(2*scale); x += 0.5) {
            for (let y = -H/(2*scale); y <= H/(2*scale); y += 0.5) {
                if (testFunc(x, y)) {
                    ctx.fillRect(originX + x * scale - 2, originY - y * scale - 2, 4, 4);
                }
            }
        }
    }
    
    function drawCircle(ctx, W, H, scale, h, k, r, color, originX, originY) {
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.arc(originX + h * scale, originY - k * scale, r * scale, 0, Math.PI * 2);
        ctx.stroke();
    }
    
    function drawEllipse(ctx, W, H, scale, h, k, a, b, color, originX, originY) {
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.ellipse(originX + h * scale, originY - k * scale, a * scale, b * scale, 0, 0, Math.PI * 2);
        ctx.stroke();
    }

    function drawExampleCanvas(id) {
        const {ctx, width: W, height: H} = prepareCanvas(id); 
        if (!ctx) return;
        
        const scale = 30; // pixels per unit
        const originX = W / 2, originY = H / 2;

        // Clear and draw grid
        ctx.clearRect(0,0,W,H);
        drawGrid(ctx, W, H, scale, originX, originY);
        
        // --- Drawing Dispatch ---
        if (id === 'canvas-circle1') { // (x+6)¬≤ + (y-5)¬≤ = 61
            // Draw circle
            drawCircle(ctx, W, H, scale, -6, 5, Math.sqrt(61), '#2b6cb0', originX, originY);
            // Draw center
            plotPoint(ctx, -6, 5, '#ec4899', 'Center', originX, originY, scale);
        } else if (id === 'canvas-tangent1') { // Tangent and normal to x¬≤+y¬≤=25 at (4,3)
            // Draw circle
            drawCircle(ctx, W, H, scale, 0, 0, 5, '#2b6cb0', originX, originY);
            // Draw tangent: 4x+3y=25
            plotLine(ctx, W, H, scale, 4, 3, -25, '#16a085', originX, originY);
            // Draw normal: 3x-4y=0
            plotLine(ctx, W, H, scale, 3, -4, 0, '#ec4899', originX, originY);
            // Draw point of tangency
            plotPoint(ctx, 4, 3, '#ff4d4d', '(4,3)', originX, originY, scale);
            // Draw center
            plotPoint(ctx, 0, 0, '#2b6cb0', 'Center', originX, originY, scale);
        } else if (id === 'canvas-ellipse1') { // x¬≤/16 + y¬≤/9 = 1
            // Draw ellipse
            drawEllipse(ctx, W, H, scale, 0, 0, 4, 3, '#2b6cb0', originX, originY);
            // Draw foci
            plotPoint(ctx, -Math.sqrt(7), 0, '#ec4899', 'Focus', originX, originY, scale);
            plotPoint(ctx, Math.sqrt(7), 0, '#ec4899', 'Focus', originX, originY, scale);
            // Draw vertices
            plotPoint(ctx, -4, 0, '#16a085', 'Vertex', originX, originY, scale);
            plotPoint(ctx, 4, 0, '#16a085', 'Vertex', originX, originY, scale);
            // Draw center
            plotPoint(ctx, 0, 0, '#2b6cb0', 'Center', originX, originY, scale);
        }
    }
    
    // Draw concept explanation graphs
    function drawConceptGraphs() {
        // Circles concept graph
        const circleCanvas = document.getElementById('concept-circles-graph');
        if (circleCanvas) {
            const ctx = circleCanvas.getContext('2d');
            const W = circleCanvas.width, H = circleCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            drawGrid(ctx, W, H, scale, originX, originY);
            
            // Draw circle
            drawCircle(ctx, W, H, scale, 0, 0, 4, '#2b6cb0', originX, originY);
            // Draw center
            plotPoint(ctx, 0, 0, '#ec4899', 'Center', originX, originY, scale);
        }
        
        // Tangents concept graph
        const tangentCanvas = document.getElementById('concept-tangents-graph');
        if (tangentCanvas) {
            const ctx = tangentCanvas.getContext('2d');
            const W = tangentCanvas.width, H = tangentCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            drawGrid(ctx, W, H, scale, originX, originY);
            
            // Draw circle
            drawCircle(ctx, W, H, scale, 0, 0, 4, '#2b6cb0', originX, originY);
            // Draw tangent
            plotLine(ctx, W, H, scale, 1, 1, -8, '#16a085', originX, originY);
            // Draw normal
            plotLine(ctx, W, H, scale, 1, -1, 0, '#ec4899', originX, originY);
            // Draw point of tangency
            plotPoint(ctx, 2.828, 2.828, '#ff4d4d', 'Point', originX, originY, scale);
            // Draw center
            plotPoint(ctx, 0, 0, '#2b6cb0', 'Center', originX, originY, scale);
        }
        
        // Ellipses concept graph
        const ellipseCanvas = document.getElementById('concept-ellipses-graph');
        if (ellipseCanvas) {
            const ctx = ellipseCanvas.getContext('2d');
            const W = ellipseCanvas.width, H = ellipseCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            drawGrid(ctx, W, H, scale, originX, originY);
            
            // Draw ellipse
            drawEllipse(ctx, W, H, scale, 0, 0, 5, 3, '#2b6cb0', originX, originY);
            // Draw foci
            plotPoint(ctx, -4, 0, '#ec4899', 'Focus', originX, originY, scale);
            plotPoint(ctx, 4, 0, '#ec4899', 'Focus', originX, originY, scale);
        }
        
        // Applications concept graph
        const appCanvas = document.getElementById('concept-applications-graph');
        if (appCanvas) {
            const ctx = appCanvas.getContext('2d');
            const W = appCanvas.width, H = appCanvas.height;
            const scale = 15;
            const originX = W/2, originY = H/2;
            
            ctx.clearRect(0,0,W,H);
            drawGrid(ctx, W, H, scale, originX, originY);
            
            // Draw elliptical orbit
            drawEllipse(ctx, W, H, scale, 0, 0, 5, 4, '#2b6cb0', originX, originY);
            // Draw sun at focus
            plotPoint(ctx, 3, 0, '#ec4899', 'Sun', originX, originY, scale);
        }
    }
    
    // Graph controls
    function zoomGraph(canvasId, factor) {
        // This would require storing scale state for each canvas
        // For simplicity, we'll just redraw at a different scale
        const canvas = document.getElementById(canvasId);
        if (!canvas) return;
        
        // Store current scale in data attribute or redraw with new scale
        const currentScale = parseFloat(canvas.getAttribute('data-scale') || '30');
        const newScale = currentScale * factor;
        canvas.setAttribute('data-scale', newScale);
        
        // Redraw the canvas with new scale
        drawExampleCanvas(canvasId);
    }
    
    function resetGraph(canvasId) {
        const canvas = document.getElementById(canvasId);
        if (!canvas) return;
        
        canvas.setAttribute('data-scale', '30');
        drawExampleCanvas(canvasId);
    }
  </script>
</body>
</html>